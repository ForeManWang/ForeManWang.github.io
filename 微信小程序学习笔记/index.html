<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="google-site-verification" content="lxQzxfuCwK-JHIYYvZmujpUH4IfzeaHoG115rj7a_38">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">










  <meta name="baidu-site-verification" content="true">







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="微信小程序,微信小程序基础知识">






  <link rel="alternate" href="/atom.xml" title="工头的博客" type="application/atom+xml">






<meta name="description" content="微信小程序基础知识整理">
<meta name="keywords" content="微信小程序,微信小程序基础知识">
<meta property="og:type" content="article">
<meta property="og:title" content="微信小程序学习笔记">
<meta property="og:url" content="https://qqqww.com/微信小程序学习笔记/index.html">
<meta property="og:site_name" content="工头的博客">
<meta property="og:description" content="微信小程序基础知识整理">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/weChatAppdemo.jpg">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/fileTree.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/config.jpg">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/tabBar.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/allow.jpg">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/tap.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/事件传参.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/事件捕获.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/微信小程序的双向数据绑定.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/保存前.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/保存后.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/icon.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/progress.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/button.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/checkbox.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/省市选择器.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/picker.png">
<meta property="og:image" content="https://qqqww.com/微信小程序学习笔记/操作组件.png">
<meta property="og:updated_time" content="2019-01-25T04:56:12.570Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="微信小程序学习笔记">
<meta name="twitter:description" content="微信小程序基础知识整理">
<meta name="twitter:image" content="https://qqqww.com/微信小程序学习笔记/weChatAppdemo.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://qqqww.com/微信小程序学习笔记/">





  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "f3dcea4e"
    });
  daovoice('update');
  </script>





  <meta name="baidu-site-verification" content="Vu9pRwnTZp">





  <title>微信小程序学习笔记 | 工头的博客</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d4ae74ec67a0cb9b46d8061e04ea6e6b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband">
      <a href="https://foremanwang.github.io/" class="github-corner" aria-label="View source on GitHub" rel="external nofollow noopener noreferrer" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    </div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">工头的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">我们都在努力奔跑，我们都是追梦人</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://qqqww.com/微信小程序学习笔记/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="王工头">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工头的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">微信小程序学习笔记</h2>
        

        <div class="post-meta">
          
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-17T20:38:33+08:00">
                2019-01-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  12.7k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  55 分钟
                </span>
              
            </div>
          

          
              <div class="post-description">
                  微信小程序基础知识整理 
              </div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="微信小程序"><a href="#微信小程序" class="headerlink" title="微信小程序"></a>微信小程序</h1><blockquote>
<p><strong>欢迎访问我的博客</strong>，祝码农同胞们早日走上人生巅峰，迎娶白富美~~~</p>
</blockquote>
<blockquote>
<p><a href="https://baike.baidu.com/item/%E5%BE%AE%E4%BF%A1/3905974" rel="external nofollow noopener noreferrer" target="_blank">微信</a>小程序，简称<a href="https://baike.baidu.com/item/%E5%B0%8F%E7%A8%8B%E5%BA%8F" rel="external nofollow noopener noreferrer" target="_blank">小程序</a>，英文名Mini Program，是一种不需要下载安装即可使用的<a href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8" rel="external nofollow noopener noreferrer" target="_blank">应用</a>，它实现了应用“触手可及”的梦想，用户扫一扫或搜一下即可打开应用。 </p>
</blockquote>
<h2 id="关于此学习的测试项目都暂时保存在https-github-com-ForeManWang-wxapp-study"><a href="#关于此学习的测试项目都暂时保存在https-github-com-ForeManWang-wxapp-study" class="headerlink" title="关于此学习的测试项目都暂时保存在https://github.com/ForeManWang/wxapp-study"></a>关于此学习的测试项目都暂时保存在<a href="https://github.com/ForeManWang/wxapp-study" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/ForeManWang/wxapp-study</a></h2><h2 id="微信小程序账号与工具"><a href="#微信小程序账号与工具" class="headerlink" title="微信小程序账号与工具"></a>微信小程序账号与工具</h2><p>在线文档：<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/" rel="external nofollow noopener noreferrer" target="_blank">https://mp.weixin.qq.com/debug/wxadoc/dev/</a></p>
<h2 id="小程序开发者账号注册"><a href="#小程序开发者账号注册" class="headerlink" title="小程序开发者账号注册"></a>小程序开发者账号注册</h2><p>微信公众平台：<a href="https://mp.weixin.qq.com/" rel="external nofollow noopener noreferrer" target="_blank">https://mp.weixin.qq.com/</a></p>
<p>小程序开发者账号注册：<a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1" rel="external nofollow noopener noreferrer" target="_blank">https://mp.weixin.qq.com/wxopen/waregister?action=step1</a></p>
<h2 id="微信开发者工具"><a href="#微信开发者工具" class="headerlink" title="微信开发者工具"></a>微信开发者工具</h2><p>微信开发者工具：<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html" rel="external nofollow noopener noreferrer" target="_blank">https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html</a></p>
<h2 id="小程序在线Demo"><a href="#小程序在线Demo" class="headerlink" title="小程序在线Demo"></a>小程序在线Demo</h2><p><img src="/微信小程序学习笔记/weChatAppdemo.jpg" alt="weChatAppdemo"></p>
<h2 id="微信小程序文件结构"><a href="#微信小程序文件结构" class="headerlink" title="微信小程序文件结构"></a>微信小程序文件结构</h2><h3 id="主体文件结构"><a href="#主体文件结构" class="headerlink" title="主体文件结构"></a>主体文件结构</h3><p>主体部分由三个文件组成，必须放在项目的根目录，如下：</p>
<table>
<thead>
<tr>
<th>文件</th>
<th>必填</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/app-service/app.html" rel="external nofollow noopener noreferrer" target="_blank">app.js</a></td>
<td>是</td>
<td>小程序逻辑</td>
</tr>
<tr>
<td><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/config.html" rel="external nofollow noopener noreferrer" target="_blank">app.json</a></td>
<td>是</td>
<td>配置文件——小程序公共设置，主要界面外观设置</td>
</tr>
<tr>
<td><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxss.html" rel="external nofollow noopener noreferrer" target="_blank">app.wxss</a></td>
<td>否</td>
<td>小程序公共样式表</td>
</tr>
</tbody>
</table>
<h3 id="页面文件结构"><a href="#页面文件结构" class="headerlink" title="页面文件结构"></a>页面文件结构</h3><blockquote>
<p>通过开发者工具快速创建了一个 QuickStart 项目。可以留意到这个项目里边生成了不同类型的文件:</p>
<ol>
<li><code>.json</code> 后缀的 <code>JSON</code> 配置文件</li>
<li><code>.wxml</code> 后缀的 <code>WXML(Wei Xin Markup Language)</code> 模板文件</li>
<li><code>.wxss</code> 后缀的 <code>WXSS(Wei Xin Style Sheets)</code> 样式文件</li>
<li><code>.js</code> 后缀的 <code>JS</code> 脚本逻辑文件</li>
</ol>
<p>接下来我们分别看看这4种文件的作用。</p>
</blockquote>
<p>页面由四个文件组成，分别是：</p>
<table>
<thead>
<tr>
<th>文件类型</th>
<th>必填</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/app-service/page.html" rel="external nofollow noopener noreferrer" target="_blank">js</a></td>
<td>是</td>
<td>页面逻辑 ( 微信小程序没有window和document对象 )</td>
</tr>
<tr>
<td><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/" rel="external nofollow noopener noreferrer" target="_blank">wxml</a></td>
<td>是</td>
<td>页面结构  ( XML语法，不是HTML语法 )</td>
</tr>
<tr>
<td><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxss.html" rel="external nofollow noopener noreferrer" target="_blank">wxss</a></td>
<td>否</td>
<td>页面样式表 ( <strong>拓展了rpx尺寸单位，微信专属响应式像素</strong> )</td>
</tr>
<tr>
<td><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/config.html#pagejson" rel="external nofollow noopener noreferrer" target="_blank">json</a></td>
<td>否</td>
<td>页面配置  ( 不能写注释，否则编译报错 )</td>
</tr>
</tbody>
</table>
<p><img src="/微信小程序学习笔记/fileTree.png" alt="fileTree"></p>
<h2 id="微信小程序全局配置"><a href="#微信小程序全局配置" class="headerlink" title="微信小程序全局配置"></a>微信小程序全局配置</h2><h3 id="app-json-配置项列表"><a href="#app-json-配置项列表" class="headerlink" title="app.json 配置项列表"></a>app.json 配置项列表</h3><blockquote>
<p><code>app.json</code> 是当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等。可以看到生成的<code>app.json</code>配置内容如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"pages"</span>: [<span class="string">"pages/index/index"</span>, <span class="string">"pages/logs/logs"</span>],</span><br><span class="line">  <span class="string">"window"</span>: &#123;</span><br><span class="line">    <span class="string">"backgroundTextStyle"</span>: <span class="string">"light"</span>,</span><br><span class="line">    <span class="string">"navigationBarBackgroundColor"</span>: <span class="string">"#fff"</span>,</span><br><span class="line">    <span class="string">"navigationBarTitleText"</span>: <span class="string">"WeChat"</span>,</span><br><span class="line">    <span class="string">"navigationBarTextStyle"</span>: <span class="string">"black"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>app.json</code>配置各项的含义</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th>类型</th>
<th>必填</th>
<th>描述</th>
<th>最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#pages" rel="external nofollow noopener noreferrer" target="_blank">pages</a></td>
<td>String Array</td>
<td>是</td>
<td>描述当前小程序所有页面路径，通常文件名和页面各文件名都相同</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#window" rel="external nofollow noopener noreferrer" target="_blank">window</a></td>
<td>Object</td>
<td>否</td>
<td>定义小程序所有页面的顶部背景颜色，文字颜色定义等。</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#tabbar" rel="external nofollow noopener noreferrer" target="_blank">tabBar</a></td>
<td>Object</td>
<td>否</td>
<td>底部 <code>tab</code> 栏的表现</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#networktimeout" rel="external nofollow noopener noreferrer" target="_blank">networkTimeout</a></td>
<td>Object</td>
<td>否</td>
<td>网络超时时间</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#debug" rel="external nofollow noopener noreferrer" target="_blank">debug</a></td>
<td>Boolean</td>
<td>否</td>
<td>是否开启 debug 模式，默认关闭</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#functionalpages" rel="external nofollow noopener noreferrer" target="_blank">functionalPages</a></td>
<td>Boolean</td>
<td>否</td>
<td>是否启用插件功能页，默认关闭</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.1.0</a></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#subpackages" rel="external nofollow noopener noreferrer" target="_blank">subpackages</a></td>
<td>Object Array</td>
<td>否</td>
<td>分包结构配置</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">1.7.3</a></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#workers" rel="external nofollow noopener noreferrer" target="_blank">workers</a></td>
<td>String</td>
<td>否</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/api/Worker.html" rel="external nofollow noopener noreferrer" target="_blank"><code>Worker</code></a> 代码放置的目录</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">1.9.90</a></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#requiredbackgroundmodes" rel="external nofollow noopener noreferrer" target="_blank">requiredBackgroundModes</a></td>
<td>String Array</td>
<td>否</td>
<td>需要在后台使用的能力，如「音乐播放」</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#plugins" rel="external nofollow noopener noreferrer" target="_blank">plugins</a></td>
<td>Object</td>
<td>否</td>
<td>使用到的插件</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">1.9.6</a></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#preloadrule" rel="external nofollow noopener noreferrer" target="_blank">preloadRule</a></td>
<td>Object</td>
<td>否</td>
<td>分包预下载规则</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.3.0</a></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#resizable" rel="external nofollow noopener noreferrer" target="_blank">resizable</a></td>
<td>Boolean</td>
<td>否</td>
<td>iPad 小程序是否支持屏幕旋转，默认关闭</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.3.0</a></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#navigatetominiprogramappidlist" rel="external nofollow noopener noreferrer" target="_blank">navigateToMiniProgramAppIdList</a></td>
<td>String Array</td>
<td>否</td>
<td>需要跳转的小程序列表，详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.navigateToMiniProgram.html" rel="external nofollow noopener noreferrer" target="_blank">wx.navigateToMiniProgram</a></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.4.0</a></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#usingcomponents" rel="external nofollow noopener noreferrer" target="_blank">usingComponents</a></td>
<td>Object</td>
<td>否</td>
<td>全局自定义组件配置</td>
<td>开发者工具 1.02.1810190</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#permission" rel="external nofollow noopener noreferrer" target="_blank">permission</a></td>
<td>Object</td>
<td>否</td>
<td>小程序接口权限相关设置</td>
<td>微信客户端 7.0.0</td>
</tr>
</tbody>
</table>
<h4 id="pages"><a href="#pages" class="headerlink" title="pages"></a>pages</h4><blockquote>
<p>用于指定小程序由哪些页面组成，每一项都对应一个页面的 路径+文件名 信息。文件名不需要写文件后缀，框架会自动去寻找对于位置的 <code>.json</code>, <code>.js</code>, <code>.wxml</code>, <code>.wxss</code> 四个文件进行处理。 </p>
</blockquote>
<p>例如<code>app.json</code>中,此时数组中第一项为默认首页，即<code>index</code>是首页</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"pages"</span>: [<span class="string">"pages/index/index"</span>, <span class="string">"pages/logs/logs"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="window"><a href="#window" class="headerlink" title="window"></a>window</h4><blockquote>
<p>用于设置小程序的状态栏、导航条、标题、窗口背景色。</p>
<p>注意：页面的<code>.json</code>只能设置 <code>window</code> 相关的配置项，以决定本页面的窗口表现，所以无需写 <code>window</code> 这个键。</p>
</blockquote>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
<th>最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>navigationBarBackgroundColor</td>
<td>HexColor</td>
<td>#000000</td>
<td>导航栏背景颜色，如 <code>#000000</code></td>
<td></td>
</tr>
<tr>
<td>navigationBarTextStyle</td>
<td>String</td>
<td>white</td>
<td>导航栏标题颜色，仅支持 <code>black</code> / <code>white</code></td>
<td></td>
</tr>
<tr>
<td>navigationBarTitleText</td>
<td>String</td>
<td></td>
<td>导航栏标题文字内容</td>
<td></td>
</tr>
<tr>
<td>navigationStyle</td>
<td>String</td>
<td>default</td>
<td>导航栏样式，仅支持以下值： <code>default</code> 默认样式 <code>custom</code> 自定义导航栏，只保留右上角胶囊按钮。参见注2。</td>
<td>微信客户端 6.6.0</td>
</tr>
<tr>
<td>backgroundColor</td>
<td>HexColor</td>
<td>#ffffff</td>
<td>窗口的背景色</td>
<td></td>
</tr>
<tr>
<td>backgroundTextStyle</td>
<td>String</td>
<td>dark</td>
<td>下拉 loading 的样式，仅支持 <code>dark</code> / <code>light</code></td>
<td></td>
</tr>
<tr>
<td>backgroundColorTop</td>
<td>String</td>
<td>#ffffff</td>
<td>顶部窗口的背景色，仅 iOS 支持</td>
<td>微信客户端 6.5.16</td>
</tr>
<tr>
<td>backgroundColorBottom</td>
<td>String</td>
<td>#ffffff</td>
<td>底部窗口的背景色，仅 iOS 支持</td>
<td>微信客户端 6.5.16</td>
</tr>
<tr>
<td>enablePullDownRefresh</td>
<td>Boolean</td>
<td>false</td>
<td>是否开启当前页面的下拉刷新。 详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onpulldownrefresh" rel="external nofollow noopener noreferrer" target="_blank">Page.onPullDownRefresh</a></td>
<td></td>
</tr>
<tr>
<td>onReachBottomDistance</td>
<td>Number</td>
<td>50</td>
<td>页面上拉触底事件触发时距页面底部距离，单位为px。 详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onreachbottom" rel="external nofollow noopener noreferrer" target="_blank">Page.onReachBottom</a></td>
<td></td>
</tr>
<tr>
<td>pageOrientation</td>
<td>String</td>
<td>portrait</td>
<td>屏幕旋转设置，仅支持 <code>auto</code> / <code>portrait</code>  详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/resizable.html" rel="external nofollow noopener noreferrer" target="_blank">响应显示区域变化</a></td>
<td>微信客户端 6.7.3</td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li>注1：HexColor（十六进制颜色值），如”#ff00ff”</li>
<li>注2：关于<code>navigationStyle</code> </li>
<li>客户端 7.0.0 以下版本，<code>navigationStyle</code> 只在 <code>app.json</code> 中生效。</li>
<li>客户端 6.7.2 版本开始，<code>navigationStyle: custom</code> 对 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html" rel="external nofollow noopener noreferrer" target="_blank"><code></code></a> 组件无效</li>
<li>开启 custom 后，低版本客户端需要做好兼容。开发者工具基础库版本切到 1.7.0（不代表最低版本，只供调试用）可方便切到旧视觉</li>
</ul>
</blockquote>
<p>如 app.json ： </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"window"</span>: &#123;</span><br><span class="line">    <span class="string">"navigationBarBackgroundColor"</span>: <span class="string">"#ffffff"</span>,</span><br><span class="line">    <span class="string">"navigationBarTextStyle"</span>: <span class="string">"black"</span>,</span><br><span class="line">    <span class="string">"navigationBarTitleText"</span>: <span class="string">"微信接口功能演示"</span>,</span><br><span class="line">    <span class="string">"backgroundColor"</span>: <span class="string">"#eeeeee"</span>,</span><br><span class="line">    <span class="string">"backgroundTextStyle"</span>: <span class="string">"light"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>微信接口功能演示</strong></p>
<p><img src="/微信小程序学习笔记/config.jpg" alt="config"></p>
<h4 id="tabBar"><a href="#tabBar" class="headerlink" title="tabBar"></a>tabBar</h4><blockquote>
<p>如果小程序是一个多 tab 应用（客户端窗口的底部或顶部有 tab 栏可以切换页面），可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。 </p>
</blockquote>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>描述</th>
<th>最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>color</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 上的文字默认颜色，仅支持十六进制颜色</td>
<td></td>
</tr>
<tr>
<td>selectedColor</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 上的文字选中时的颜色，仅支持十六进制颜色</td>
<td></td>
</tr>
<tr>
<td>backgroundColor</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 的背景色，仅支持十六进制颜色</td>
<td></td>
</tr>
<tr>
<td>borderStyle</td>
<td>String</td>
<td>否</td>
<td>black</td>
<td>tabbar上边框的颜色， 仅支持 <code>black</code> / <code>white</code></td>
<td></td>
</tr>
<tr>
<td>list</td>
<td>Array</td>
<td>是</td>
<td></td>
<td>tab 的列表，详见 <code>list</code> 属性说明，最少2个、最多5个 tab</td>
<td></td>
</tr>
<tr>
<td>position</td>
<td>String</td>
<td>否</td>
<td>bottom</td>
<td>tabBar的位置，仅支持 <code>bottom</code> / <code>top</code></td>
<td></td>
</tr>
<tr>
<td>custom</td>
<td>Boolean</td>
<td>否</td>
<td>false</td>
<td>自定义 tabBar，见<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/ability/custom-tabbar.html" rel="external nofollow noopener noreferrer" target="_blank">详情</a></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.5.0</a></td>
</tr>
</tbody>
</table>
<blockquote>
<ol>
<li>tabBar 中的 list 是一个数组，<strong>只能配置最少2个、最多5个 tab</strong>，tab 按数组的顺序排序。</li>
</ol>
</blockquote>
<p><strong>属性说明</strong>：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>pagePath</td>
<td>String</td>
<td>是</td>
<td>页面路径，必须在 pages 中先定义</td>
</tr>
<tr>
<td>text</td>
<td>String</td>
<td>是</td>
<td>tab 上按钮文字</td>
</tr>
<tr>
<td>iconPath</td>
<td>String</td>
<td>否</td>
<td>图片路径，icon 大小限制为40kb，建议尺寸为 81px * 81px，当 postion 为 top 时，此参数无效</td>
</tr>
<tr>
<td>selectedIconPath</td>
<td>String</td>
<td>否</td>
<td>选中时的图片路径，icon 大小限制为40kb，建议尺寸为 81px * 81px ，当 postion 为 top 时，此参数无效</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"pages"</span>:[</span><br><span class="line">    <span class="string">"pages/index/index"</span>,</span><br><span class="line">    <span class="string">"pages/logs/logs"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"window"</span>:&#123;</span><br><span class="line">    <span class="string">"backgroundTextStyle"</span>:<span class="string">"light"</span>,</span><br><span class="line">    <span class="string">"navigationBarBackgroundColor"</span>: <span class="string">"#fff"</span>,</span><br><span class="line">    <span class="string">"navigationBarTitleText"</span>: <span class="string">"WeChat"</span>,</span><br><span class="line">    <span class="string">"navigationBarTextStyle"</span>:<span class="string">"black"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"debug"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"tabBar"</span>: &#123;</span><br><span class="line">    <span class="string">"color"</span>: <span class="string">"#444"</span>,</span><br><span class="line">    <span class="string">"backgroundColor"</span>: <span class="string">"#e0e0e0"</span>,</span><br><span class="line">    <span class="string">"SelectedColor"</span>: <span class="string">"#219be3"</span>,</span><br><span class="line">    <span class="string">"boderStyle"</span>: <span class="string">"black"</span>,</span><br><span class="line">    <span class="string">"position"</span>: <span class="string">"bottom"</span>,</span><br><span class="line">    <span class="string">"list"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">"text"</span>: <span class="string">"Home"</span>,</span><br><span class="line">        <span class="string">"PagePath"</span>: <span class="string">"pages/index/index"</span>,</span><br><span class="line">        <span class="string">"iconPath"</span>: <span class="string">"icons/grid-01.png"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">"text"</span>: <span class="string">"logs"</span>,</span><br><span class="line">        <span class="string">"PagePath"</span>: <span class="string">"pages/logs/logs"</span>,</span><br><span class="line">        <span class="string">"iconPath"</span>: <span class="string">"icons/grid-02.png"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>图示：</p>
<p><img src="/微信小程序学习笔记/tabBar.png" alt="tabBar"></p>
<h4 id="networkTimeout"><a href="#networkTimeout" class="headerlink" title="networkTimeout"></a>networkTimeout</h4><blockquote>
<p>各类网络请求的超时时间，单位均为毫秒。</p>
</blockquote>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>request</td>
<td>Number</td>
<td>否</td>
<td>60000</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.request.html" rel="external nofollow noopener noreferrer" target="_blank">wx.request</a> 的超时时间，单位：毫秒。</td>
</tr>
<tr>
<td>connectSocket</td>
<td>Number</td>
<td>否</td>
<td>60000</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.connectSocket.html" rel="external nofollow noopener noreferrer" target="_blank">wx.connectSocket</a> 的超时时间，单位：毫秒。</td>
</tr>
<tr>
<td>uploadFile</td>
<td>Number</td>
<td>否</td>
<td>60000</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.uploadFile.html" rel="external nofollow noopener noreferrer" target="_blank">wx.uploadFile</a> 的超时时间，单位：毫秒。</td>
</tr>
<tr>
<td>downloadFile</td>
<td>Number</td>
<td>否</td>
<td>60000</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.downloadFile.html" rel="external nofollow noopener noreferrer" target="_blank">wx.downloadFile</a> 的超时时间，单位：毫秒。</td>
</tr>
</tbody>
</table>
<h4 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h4><blockquote>
<p>可以在开发者工具中开启 <code>debug</code> 模式，在开发者工具的控制台面板，调试信息以 <code>info</code> 的形式给出，其信息有Page的注册，页面路由，数据更新，事件触发等。可以帮助开发者快速定位一些常见的问题。</p>
</blockquote>
<h4 id="functionalPages"><a href="#functionalPages" class="headerlink" title="functionalPages"></a>functionalPages</h4><blockquote>
<p>基础库 2.1.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">兼容处理</a>。</p>
<p>启用<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/functional-pages.html" rel="external nofollow noopener noreferrer" target="_blank">插件功能页</a>时，插件所有者小程序需要设置其 <code>functionalPages</code> 为 <code>true</code>。</p>
</blockquote>
<h4 id="subpackages"><a href="#subpackages" class="headerlink" title="subpackages"></a>subpackages</h4><blockquote>
<p>微信客户端 6.6.0 ，基础库 1.7.3 及以上版本支持。</p>
<p>启用<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages.html" rel="external nofollow noopener noreferrer" target="_blank">分包加载</a>时，声明项目分包结构。</p>
<p>写成 subPackages 也支持。</p>
</blockquote>
<h4 id="workers"><a href="#workers" class="headerlink" title="workers"></a>workers</h4><blockquote>
<p>基础库 1.9.90 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">兼容处理</a>。</p>
<p>使用 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/workers.html" rel="external nofollow noopener noreferrer" target="_blank">Worker</a> 处理多线程任务时，设置 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/Worker.html" rel="external nofollow noopener noreferrer" target="_blank"><code>Worker</code></a> 代码放置的目录。</p>
</blockquote>
<h4 id="requiredBackgroundModes"><a href="#requiredBackgroundModes" class="headerlink" title="requiredBackgroundModes"></a>requiredBackgroundModes</h4><blockquote>
<p>微信客户端 6.7.2 及以上版本支持。</p>
<p>申明需要后台运行的能力，类型为数组。目前支持以下项目：</p>
</blockquote>
<ul>
<li><code>audio</code>: 后台音乐播放</li>
</ul>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;pages&quot;: [&quot;pages/index/index&quot;],</span><br><span class="line">  &quot;requiredBackgroundModes&quot;: [&quot;audio&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：在此处申明了后台运行的接口，开发版和体验版上可以直接生效，正式版还需通过审核。</p>
</blockquote>
<h4 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h4><blockquote>
<p>基础库 1.9.6 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">兼容处理</a>。</p>
<p>声明小程序需要使用的<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/using.html" rel="external nofollow noopener noreferrer" target="_blank">插件</a>。</p>
</blockquote>
<h4 id="preloadRule"><a href="#preloadRule" class="headerlink" title="preloadRule"></a>preloadRule</h4><blockquote>
<p>基础库 2.3.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">兼容处理</a>。</p>
<p>声明<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/preload.html" rel="external nofollow noopener noreferrer" target="_blank">分包预下载</a>的规则。</p>
</blockquote>
<h4 id="resizable"><a href="#resizable" class="headerlink" title="resizable"></a>resizable</h4><blockquote>
<p>基础库 2.3.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">兼容处理</a>。</p>
<p>在 iPad 上运行的小程序可以设置支持<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/resizable.html" rel="external nofollow noopener noreferrer" target="_blank">屏幕旋转</a>。</p>
</blockquote>
<h4 id="navigateToMiniProgramAppIdList"><a href="#navigateToMiniProgramAppIdList" class="headerlink" title="navigateToMiniProgramAppIdList"></a>navigateToMiniProgramAppIdList</h4><blockquote>
<p>基础库 2.4.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">兼容处理</a>。</p>
<p>当小程序需要使用 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.navigateToMiniProgram.html" rel="external nofollow noopener noreferrer" target="_blank">wx.navigateToMiniProgram</a> 接口跳转到其他小程序时，需要先在配置文件中声明需要跳转的小程序 appId 列表，最多允许填写 10 个。</p>
</blockquote>
<h4 id="usingComponents"><a href="#usingComponents" class="headerlink" title="usingComponents"></a>usingComponents</h4><blockquote>
<p>开发者工具 1.02.1810190 及以上版本支持。</p>
<p>在此处声明的自定义组件视为全局自定义组件，在小程序内的页面或自定义组件中可以直接使用而无需再声明。</p>
</blockquote>
<h4 id="permission"><a href="#permission" class="headerlink" title="permission"></a>permission</h4><blockquote>
<p>微信客户端 7.0.0 及以上版本支持</p>
</blockquote>
<p><strong>小程序<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/authorize.html" rel="external nofollow noopener noreferrer" target="_blank">接口权限</a>相关设置。字段类型为 <code>Object</code>，结构为：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>scope.userLocation</td>
<td>PermissionObject</td>
<td>否</td>
<td></td>
<td>位置相关权限声明</td>
</tr>
</tbody>
</table>
<p><strong>PermissionObject 结构</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>desc</td>
<td>string</td>
<td>是</td>
<td></td>
<td>小程序获取权限时展示的接口用途说明。最长30个字符</td>
</tr>
</tbody>
</table>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;pages&quot;: [&quot;pages/index/index&quot;],</span><br><span class="line">  &quot;permission&quot;: &#123;</span><br><span class="line">    &quot;scope.userLocation&quot;: &#123;</span><br><span class="line">      &quot;desc&quot;: &quot;你的位置信息将用于小程序位置接口的效果展示&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/微信小程序学习笔记/allow.jpg" alt="allow"></p>
<h2 id="微信小程序页面配置"><a href="#微信小程序页面配置" class="headerlink" title="微信小程序页面配置"></a>微信小程序页面配置</h2><blockquote>
<p>每一个小程序页面也可以使用<code>.json</code>文件来对本页面的窗口表现进行配置。</p>
<p>页面的配置只能设置 <code>app.json</code> 中部分 <code>window</code> 配置项的内容，页面中配置项会覆盖 <code>app.json</code> 的 <code>window</code> 中相同的配置项。</p>
</blockquote>
<h3 id="配置示例"><a href="#配置示例" class="headerlink" title="配置示例"></a>配置示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;navigationBarBackgroundColor&quot;: &quot;#ffffff&quot;,</span><br><span class="line">  &quot;navigationBarTextStyle&quot;: &quot;black&quot;,</span><br><span class="line">  &quot;navigationBarTitleText&quot;: &quot;微信接口功能演示&quot;,</span><br><span class="line">  &quot;backgroundColor&quot;: &quot;#eeeeee&quot;,</span><br><span class="line">  &quot;backgroundTextStyle&quot;: &quot;light&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="页面配置项列表"><a href="#页面配置项列表" class="headerlink" title="页面配置项列表"></a>页面配置项列表</h3><table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
<th>最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>navigationBarBackgroundColor</td>
<td>HexColor</td>
<td>#000000</td>
<td>导航栏背景颜色，如 <code>#000000</code></td>
<td></td>
</tr>
<tr>
<td>navigationBarTextStyle</td>
<td>String</td>
<td>white</td>
<td>导航栏标题颜色，仅支持 <code>black</code> / <code>white</code></td>
<td></td>
</tr>
<tr>
<td>navigationBarTitleText</td>
<td>String</td>
<td></td>
<td>导航栏标题文字内容</td>
<td></td>
</tr>
<tr>
<td>navigationStyle</td>
<td>String</td>
<td>default</td>
<td>导航栏样式，仅支持以下值： <code>default</code> 默认样式 <code>custom</code> 自定义导航栏，只保留右上角胶囊按钮</td>
<td>微信客户端 7.0.0</td>
</tr>
<tr>
<td>backgroundColor</td>
<td>HexColor</td>
<td>#ffffff</td>
<td>窗口的背景色</td>
<td></td>
</tr>
<tr>
<td>backgroundTextStyle</td>
<td>String</td>
<td>dark</td>
<td>下拉 loading 的样式，仅支持 <code>dark</code> / <code>light</code></td>
<td></td>
</tr>
<tr>
<td>enablePullDownRefresh</td>
<td>Boolean</td>
<td>false</td>
<td>是否全局开启下拉刷新。 详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onpulldownrefresh" rel="external nofollow noopener noreferrer" target="_blank">Page.onPullDownRefresh</a></td>
<td></td>
</tr>
<tr>
<td>onReachBottomDistance</td>
<td>Number</td>
<td>50</td>
<td>页面上拉触底事件触发时距页面底部距离，单位为px。 详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onreachbottom" rel="external nofollow noopener noreferrer" target="_blank">Page.onReachBottom</a></td>
<td></td>
</tr>
<tr>
<td>disableScroll</td>
<td>Boolean</td>
<td>false</td>
<td>设置为 <code>true</code> 则页面整体不能上下滚动。 只在页面配置中有效，无法在 <code>app.json</code>中设置</td>
<td></td>
</tr>
<tr>
<td>disableSwipeBack</td>
<td>Boolean</td>
<td>false</td>
<td>禁止页面右滑手势返回</td>
<td>微信客户端 7.0.0</td>
</tr>
</tbody>
</table>
<blockquote>
<p>页面的<code>.json</code>只能设置 <code>window</code> 相关的配置项，以决定本页面的窗口表现，所以无需写 <code>window</code> 这个属性。</p>
</blockquote>
<h2 id="逻辑层App-Service"><a href="#逻辑层App-Service" class="headerlink" title="逻辑层App Service"></a>逻辑层App Service</h2><blockquote>
<p>小程序开发框架的逻辑层使用 <code>JavaScript</code> 引擎为小程序提供开发者 <code>JavaScript</code> 代码的运行环境以及微信小程序的特有功能。</p>
<p>逻辑层将数据进行处理后发送给视图层，同时接受视图层的事件反馈。</p>
</blockquote>
<h3 id="逻辑层的JavaScript"><a href="#逻辑层的JavaScript" class="headerlink" title="逻辑层的JavaScript"></a>逻辑层的JavaScript</h3><ol>
<li>小程序不是运行在Web的浏览器中，所以没有<code>BOM</code>和<code>DOM</code>对象，就意味着没有<code>document</code>和<code>window</code></li>
<li>在小程序中有一些额外的全局成员<ol>
<li><strong>App 方法</strong>，用于定义应用实例对象</li>
<li><strong>Page 方法</strong>，用于定义页面对象</li>
<li><strong>getApp方法</strong>，用于获取全局应用程序实例对象</li>
<li><strong>getCurrentPages方法</strong>，用于获取当前页面的调用栈，</li>
<li><strong>说明：历史栈</strong>指的是当前调用的页面和历史页面的栈，尝试打印<code>console.log(getCurrentPage())</code>打印出来是一个数组，意味着返回值是一个数组，然后<strong><code>this</code>指向当前的页面</strong>，是当前页面的调用栈</li>
<li><strong>wx对象：</strong>丰富的 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html" rel="external nofollow noopener noreferrer" target="_blank">API</a>，如微信用户数据，扫一扫，支付等微信特有能力</li>
<li>每个页面有独立的<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/module.html#%E6%96%87%E4%BB%B6%E4%BD%9C%E7%94%A8%E5%9F%9F" rel="external nofollow noopener noreferrer" target="_blank">作用域</a>，并提供<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/module.html#%E6%A8%A1%E5%9D%97%E5%8C%96" rel="external nofollow noopener noreferrer" target="_blank">模块化</a>能力。</li>
<li>小程序的<code>JS</code>是支持<code>CommonJS</code>规范的，也就是说可以通过<code>require</code>载入模块，通过<code>module.exports</code>导出模块，但不支持<code>exports.xxx</code></li>
</ol>
</li>
</ol>
<h2 id="视图层View"><a href="#视图层View" class="headerlink" title="视图层View"></a>视图层View</h2><blockquote>
<p>框架的视图层由 WXML 与 WXSS 编写，由组件来进行展示。</p>
<p>将逻辑层的数据反应成视图，同时将视图层的事件发送给逻辑层。</p>
<p>WXML(WeiXin Markup language) 用于描述页面的结构。</p>
<p>WXS(WeiXin Script) 是小程序的一套脚本语言，结合 <code>WXML</code>，可以构建出页面的结构。</p>
<p>WXSS(WeiXin Style Sheet) 用于描述页面的样式。</p>
<p>组件(Component)是视图的基本组成单元。</p>
</blockquote>
<h3 id="WXML"><a href="#WXML" class="headerlink" title="WXML"></a>WXML</h3><blockquote>
<p>WXML（WeiXin Markup Language）是框架设计的一套标签语言，结合<a href="https://developers.weixin.qq.com/miniprogram/dev/component/index.html" rel="external nofollow noopener noreferrer" target="_blank">基础组件</a>、<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" rel="external nofollow noopener noreferrer" target="_blank">事件系统</a>，可以构建出页面的结构。</p>
</blockquote>
<h3 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h3><p>将数据动态渲染到页面中</p>
<h4 id="简单数据绑定"><a href="#简单数据绑定" class="headerlink" title="简单数据绑定"></a>简单数据绑定</h4><ol>
<li><p>数据在哪？</p>
<ol>
<li><strong>data</strong>：页面的初始数据，给页面供数据的，就是界面和逻辑之间的桥梁 </li>
<li>示例</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    ...</span><br><span class="line">    data: &#123;</span><br><span class="line">        ...</span><br><span class="line">        message: <span class="string">"hello wxxcx"</span>,</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">     ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>绑定到哪？</p>
<ol>
<li>通过<code>双大括号</code>的形式，绑定数据到想要输出的位置</li>
<li><code>&lt;text&gt;&lt;/text&gt;</code></li>
</ol>
</li>
<li><p>简单数据绑定</p>
<ol>
<li>绑定给页面中的<code>text</code>文本节点</li>
<li>绑定给<code>class</code>，为元素添加样式或者拼接样式</li>
<li>以字面量的形式或者简单的逻辑运算符（简单的运算或者三元表达式等）直接输出</li>
<li><code>双大括号</code>的语法<ol>
<li><code>innerHTML</code>上</li>
<li>元素的属性上</li>
<li>不能用在标签名和属性名上</li>
</ol>
</li>
<li>注意：若判断布尔类型时，要将<code>true</code>或者<code>false</code>包裹在<code>双大括号</code>内进行解析，防止被JS误解为字符串</li>
</ol>
</li>
</ol>
<h4 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h4><p>将数组中的数据在页面中循环渲染</p>
<ol>
<li>去<code>index.js</code>文件的<code>data</code>中定义一个数组，数组中的每一个成员都是一个对象</li>
<li>在<code>index.wxml</code>中利用<code>wx:for=&quot;&quot;</code>遍历输出，注意这里的<code>wx:for</code>中间不能有空格</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">person: [</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">'zhangsan'</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">adult</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">'wangwu'</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">adult</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">'zhaoliu'</span>, <span class="attr">age</span>: <span class="number">16</span>, <span class="attr">adult</span>: <span class="literal">false</span> &#125;</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123; person &#125;&#125;"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">checked</span>=<span class="string">'&#123;&#123; item.adult &#125;&#125;'</span>&gt;</span><span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>如果全局属性中有一个<code>item</code>关键词，解决方法可以直接在循环的属性后面加上<code>wx:for-item=&quot;项目名称缩写&quot;</code>，那么下面遍历的时候也需要用你起的别名进行遍历，看下面示例</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123; person &#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"wx"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">checked</span>=<span class="string">'&#123;&#123; wx.adult &#125;&#125;'</span>&gt;</span><span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123; wx.name &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>用 <code></code>拿序号，但若关键字冲突，可以通过<code>wx:for-index=&quot;i&quot;</code>去拿，那么下面拿序号的时候，就要用<code></code>拿</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123; person &#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"wx"</span> <span class="attr">wx:for-index</span>=<span class="string">"i"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123; i &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">checked</span>=<span class="string">'&#123;&#123; wx.adult &#125;&#125;'</span>&gt;</span><span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123; wx.name &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="5">
<li>另外<code>wx:for</code>的值在下面是可以点出来<code>legth</code>值的，我在代码中试了试</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123; person &#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"wx"</span> <span class="attr">wx:for-index</span>=<span class="string">"i"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123; i &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">checked</span>=<span class="string">'&#123;&#123; wx.adult &#125;&#125;'</span>&gt;</span><span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123; wx.name &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123; person.length &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="6">
<li><strong><code>wx:for</code> 也可以嵌套</strong>，下边是一个九九乘法表 ，我们将这个乘法口诀代码粘贴到自己的测试项目中看一下</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"i"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"j"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;i &lt;= j&#125;&#125;"</span>&gt;</span>&#123;&#123;i&#125;&#125; * &#123;&#123;j&#125;&#125; = &#123;&#123;i * j&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="7">
<li><strong>渲染一个包含多节点的结构块:</strong> 可以将 <code>wx:for</code> 用在<code>&lt;block/&gt;</code>标签上 </li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;[1, 2, 3]&#125;&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;index&#125;&#125;:<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="8">
<li><strong>使用 <code>wx:key</code> 来指定列表中项目的唯一的标识符</strong><ol>
<li>如果列表中项目的位置会动态改变或者有新的项目添加到列表中，并且希望列表中的项目保持自己的特征和状态（如<code>&lt;input&gt;</code>中的输入内容，<code>&lt;switch&gt;</code>的选中状态） </li>
<li><code>wx:key</code> 的值以两种形式提供 <ol>
<li>作用：当数据发生改变时，快速定位更新的值，防止顺序错乱</li>
<li>字符串，代表在 for 循环的 array 中 item 的某个 property，该 property 的值需要是列表中唯一的字符串或数字，且不能动态改变。</li>
<li>保留关键字 <code>*this</code> 代表在 for 循环中的 item 本身，这种表示需要 item 本身是一个唯一的字符串或者数字 ，如当数据改变触发渲染层重新渲染的时候，会校正带有 key 的组件，框架会确保他们被重新排序，而不是重新创建，以确保使组件保持自身的状态，并且提高列表渲染时的效率 </li>
<li><strong>如不提供 wx:key，会报一个 warning， 如果明确知道该列表是静态，或者不必关注其顺序，可以选择忽略。</strong> </li>
<li>示例：</li>
</ol>
</li>
</ol>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    objectArray: [</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">5</span>, <span class="attr">unique</span>: <span class="string">'unique_5'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">4</span>, <span class="attr">unique</span>: <span class="string">'unique_4'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">3</span>, <span class="attr">unique</span>: <span class="string">'unique_3'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">2</span>, <span class="attr">unique</span>: <span class="string">'unique_2'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">1</span>, <span class="attr">unique</span>: <span class="string">'unique_1'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>: <span class="number">0</span>, <span class="attr">unique</span>: <span class="string">'unique_0'</span>&#125;,</span><br><span class="line">    ],</span><br><span class="line">    numberArray: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">switch</span>(e) &#123;</span><br><span class="line">    <span class="keyword">const</span> length = <span class="keyword">this</span>.data.objectArray.length</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; ++i) &#123;</span><br><span class="line">      <span class="keyword">const</span> x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * length)</span><br><span class="line">      <span class="keyword">const</span> y = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * length)</span><br><span class="line">      <span class="keyword">const</span> temp = <span class="keyword">this</span>.data.objectArray[x]</span><br><span class="line">      <span class="keyword">this</span>.data.objectArray[x] = <span class="keyword">this</span>.data.objectArray[y]</span><br><span class="line">      <span class="keyword">this</span>.data.objectArray[y] = temp</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      objectArray: <span class="keyword">this</span>.data.objectArray</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  addToFront(e) &#123;</span><br><span class="line">    <span class="keyword">const</span> length = <span class="keyword">this</span>.data.objectArray.length</span><br><span class="line">    <span class="keyword">this</span>.data.objectArray = [&#123;<span class="attr">id</span>: length, <span class="attr">unique</span>: <span class="string">'unique_'</span> + length&#125;].concat(<span class="keyword">this</span>.data.objectArray)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      objectArray: <span class="keyword">this</span>.data.objectArray</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  addNumberToFront(e) &#123;</span><br><span class="line">    <span class="keyword">this</span>.data.numberArray = [<span class="keyword">this</span>.data.numberArray.length + <span class="number">1</span>].concat(<span class="keyword">this</span>.data.numberArray)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      numberArray: <span class="keyword">this</span>.data.numberArray</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">switch</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;objectArray&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"unique"</span> <span class="attr">style</span>=<span class="string">"display: block;"</span>&gt;</span></span><br><span class="line">  &#123;&#123;item.id&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">"switch"</span>&gt;</span>Switch<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">"addToFront"</span>&gt;</span>Add to the front<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">switch</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;numberArray&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"*this"</span> <span class="attr">style</span>=<span class="string">"display: block;"</span>&gt;</span></span><br><span class="line">  &#123;&#123;item&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">"addNumberToFront"</span>&gt;</span>Add to the front<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li><strong>注意：</strong>当<code>wx:for=&quot;string&quot;</code>的时候，会把字符串解析为数组，例如下面两个等价的代码</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"hello"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">// 等同于</span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123; ['h', 'e', 'l', 'l', 'o'] &#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​2. <strong>注意</strong>：花括号和引号之间如果有空格，将最终被解析成为字符串 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;[1,2,3]&#125;&#125; "</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">// 等同于</span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;[1,2,3] + ' '&#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h4><ol>
<li><strong>当判断是否需要去渲染一个代码块的时候，就需要用到<code>wx:if</code> , 当需要判断是否添加一个代码块的时候，要用到<code>wx:elif</code>或者<code>wx:else</code></strong></li>
</ol>
<p>示例：用在<code>wx:for</code>章节的代码，跟着后面添加了几句判断</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123; person.length &gt; 5 &#125;&#125;"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:elif</span>=<span class="string">"&#123;&#123; person.length &lt; 5 &#125;&#125;"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span>1<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>如果要一次性判断多个组件标签，可以使用一个 <code>&lt;block/&gt;</code> 标签将多个组件包装起来，并在上边使用 <code>wx:if</code> 控制属性。 </li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>view1<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>view2<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span></span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li><strong>注意</strong>： <code>&lt;block/&gt;</code> 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。 </li>
<li><strong><code>wx:if</code>VS<code>hidden</code></strong></li>
</ol>
<blockquote>
<p>因为 <code>wx:if</code> 之中的模板也可能包含数据绑定，所以当 <code>wx:if</code> 的条件值切换时，框架有一个局部渲染的过程，因为它会确保条件块在切换时销毁或重新渲染。</p>
<p>同时 <code>wx:if</code> 也是<strong>惰性的</strong>，如果在初始渲染条件为 <code>false</code>，框架什么也不做，在条件第一次变成真的时候才开始局部渲染。</p>
<p>相比之下，<code>hidden</code> 就简单的多，组件始终会被渲染，只是简单的控制显示与隐藏。</p>
<p>一般来说，<code>wx:if</code> 有更高的切换消耗而 <code>hidden</code> 有更高的初始渲染消耗。因此，如果需要频繁切换的情景下，用 <code>hidden</code> 更好，如果在运行时条件不大可能改变则 <code>wx:if</code> 较好。</p>
</blockquote>
<h3 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h3><blockquote>
<p>WXML提供模板（template），可以在模板中定义代码片段，然后在不同的地方调用。 </p>
</blockquote>
<h4 id="定义模板"><a href="#定义模板" class="headerlink" title="定义模板"></a>定义模板</h4><blockquote>
<p>使用 name 属性，作为模板的名字。然后在<code>&lt;template/&gt;</code>内定义代码片段，如： </p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  index: int</span></span><br><span class="line"><span class="comment">  msg: string</span></span><br><span class="line"><span class="comment">  time: string</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">"msgItem"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123;index&#125;&#125;: &#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span>Time: &#123;&#123;time&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="使用模板"><a href="#使用模板" class="headerlink" title="使用模板"></a>使用模板</h4><blockquote>
<p>使用 is 属性，声明需要的使用的模板，然后将模板所需要的 data 传入，如： </p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">"msgItem"</span> <span class="attr">data</span>=<span class="string">"&#123;&#123;...item&#125;&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    item: &#123;</span><br><span class="line">      index: <span class="number">0</span>,</span><br><span class="line">      msg: <span class="string">'this is a template'</span>,</span><br><span class="line">      time: <span class="string">'2016-09-15'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>is 属性可以使用 Mustache 语法，来动态决定具体需要渲染哪个模板： </p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">"odd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>odd<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">"even"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>even<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;[1, 2, 3, 4, 5]&#125;&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">"&#123;&#123;item % 2 == 0 ? 'even' : 'odd'&#125;&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="模板的作用域"><a href="#模板的作用域" class="headerlink" title="模板的作用域"></a>模板的作用域</h4><blockquote>
<p>模板拥有自己的作用域，只能使用 <code>data</code> 传入的数据以及模板定义文件中定义的 <code>&lt;wxs /&gt;</code> 模块 </p>
</blockquote>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><blockquote>
<p>事件是视图层到逻辑层的通讯方式。</p>
<p>事件可以将用户的行为反馈到逻辑层进行处理。</p>
<p>事件可以绑定在组件上，当达到触发事件，就会执行逻辑层中对应的事件处理函数。</p>
<p>事件对象可以携带额外信息，如 id, dataset, touches</p>
</blockquote>
<h4 id="事件的使用方式"><a href="#事件的使用方式" class="headerlink" title="事件的使用方式"></a>事件的使用方式</h4><ol>
<li>在组件中绑定事件处理函数</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">'buttonTap'</span>&gt;</span>点击我哦<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    ...</span><br><span class="line">    buttonTap() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'123'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>给<code>buttonTap</code>函数传参，但是微信开发中绑定事件函数的时候，明确的规定不能直接在后面加括号传参的，不然会报错，这时候和<code>H5</code>开发的时候一样，需要给元素添加自定义属性<code>data-xxx</code>，在逻辑层通过<code>dataset</code>拿到数据</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">'buttonTap'</span> <span class="attr">data-hello</span>=<span class="string">'事件传参'</span>&gt;</span>点击我哦<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    ...</span><br><span class="line">    buttonTap(e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)</span><br><span class="line">    <span class="built_in">console</span>.log(e.target)</span><br><span class="line">  &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>可以看到<code>e对象</code>里面有很多属性和方法方便以后使用</li>
</ol>
<p><img src="/微信小程序学习笔记/tap.png" alt="tap"></p>
<ol start="4">
<li>看到<code>e.target</code>对象是这样的</li>
</ol>
<p><img src="/微信小程序学习笔记/事件传参.png" alt="事件传参"></p>
<h4 id="事件分类"><a href="#事件分类" class="headerlink" title="事件分类"></a>事件分类</h4><blockquote>
<p>事件分为冒泡事件和非冒泡事件：</p>
<ol>
<li>冒泡事件：当一个组件上的事件被触发后，该事件会向父节点传递。</li>
<li>非冒泡事件：当一个组件上的事件被触发后，该事件不会向父节点传递。</li>
</ol>
</blockquote>
<h5 id="WXML的冒泡事件列表："><a href="#WXML的冒泡事件列表：" class="headerlink" title="WXML的冒泡事件列表："></a>WXML的冒泡事件列表：</h5><table>
<thead>
<tr>
<th>类型</th>
<th>触发条件</th>
<th>最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>touchstart</td>
<td>手指触摸动作开始</td>
<td></td>
</tr>
<tr>
<td>touchmove</td>
<td>手指触摸后移动</td>
<td></td>
</tr>
<tr>
<td>touchcancel</td>
<td>手指触摸动作被打断，如来电提醒，弹窗</td>
<td></td>
</tr>
<tr>
<td>touchend</td>
<td>手指触摸动作结束</td>
<td></td>
</tr>
<tr>
<td>tap</td>
<td>手指触摸后马上离开</td>
<td></td>
</tr>
<tr>
<td>longpress</td>
<td>手指触摸后，超过350ms再离开，如果指定了事件回调函数并触发了这个事件，tap事件将不被触发</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">1.5.0</a></td>
</tr>
<tr>
<td>longtap</td>
<td>手指触摸后，超过350ms再离开（推荐使用longpress事件代替）</td>
<td></td>
</tr>
<tr>
<td>transitionend</td>
<td>会在 WXSS transition 或 wx.createAnimation 动画结束后触发</td>
<td></td>
</tr>
<tr>
<td>animationstart</td>
<td>会在一个 WXSS animation 动画开始时触发</td>
<td></td>
</tr>
<tr>
<td>animationiteration</td>
<td>会在一个 WXSS animation 一次迭代结束时触发</td>
<td></td>
</tr>
<tr>
<td>animationend</td>
<td>会在一个 WXSS animation 动画完成时触发</td>
<td></td>
</tr>
<tr>
<td>touchforcechange</td>
<td>在支持 3D Touch 的 iPhone 设备，重按时会触发</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">1.9.90</a></td>
</tr>
</tbody>
</table>
<p><strong>注：除上表之外的其他组件自定义事件如无特殊声明都是非冒泡事件，如<form>的submit事件，<input>的input事件，<scroll-view>的scroll事件，(详见各个组件)</scroll-view></form></strong> </p>
<h5 id="事件绑定和冒泡"><a href="#事件绑定和冒泡" class="headerlink" title="事件绑定和冒泡"></a>事件绑定和冒泡</h5><blockquote>
<p>事件绑定的写法同组件的属性，以 key、value 的形式 :</p>
<ul>
<li><code>key</code> 以<code>bind</code>或<code>catch</code>开头，然后跟上事件的类型，如<code>bindtap</code>、<code>catchtouchstart</code>。自基础库版本 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">1.5.0</a> 起，在非<a href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html" rel="external nofollow noopener noreferrer" target="_blank">原生组件</a>中，<code>bind</code>和<code>catch</code>后可以紧跟一个冒号，其含义不变，如<code>bind:tap</code>、<code>catch:touchstart</code></li>
<li>value 是一个字符串，需要在对应的 <code>Page</code> 中定义同名的函数，不然当触发事件的时候会报错</li>
</ul>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"outer"</span> <span class="attr">style</span>=<span class="string">'width: 200px; height: 200px; background-color:red'</span>  <span class="attr">bindtap</span>=<span class="string">"handleTap1"</span>&gt;</span></span><br><span class="line">  我是他爷爷</span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"middle"</span> <span class="attr">style</span>=<span class="string">'width: 100px; height: 100px; background-color:yellow'</span>  <span class="attr">bindtap</span>=<span class="string">"handleTap2"</span>&gt;</span></span><br><span class="line">    我是他爸爸</span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"inner"</span> <span class="attr">style</span>=<span class="string">'width: 50px; height: 50px; background-color:blue'</span>  <span class="attr">bindtap</span>=<span class="string">"handleTap3"</span>&gt;</span>我是他儿子<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    ...</span><br><span class="line">    handleTap1() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'我是他爷爷'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTap2() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'我是他爸爸'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTap3() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'我是他儿子'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>实际上熟悉<strong>JS事件冒泡</strong>的对于这个都不难理解，就是子元素的事件会向上冒泡给相同事件的父元素</p>
<h5 id="阻止事件冒泡"><a href="#阻止事件冒泡" class="headerlink" title="阻止事件冒泡"></a>阻止事件冒泡</h5><p><code>cstch + xxx</code>阻止冒泡</p>
<p>将上面的案例中的其中一个父元素绑定一下阻止冒泡的事件，观察下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"outer"</span> <span class="attr">style</span>=<span class="string">'width: 200px; height: 200px; background-color:red'</span>  <span class="attr">bindtap</span>=<span class="string">"handleTap1"</span>&gt;</span></span><br><span class="line">  我是他爷爷</span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"middle"</span> <span class="attr">style</span>=<span class="string">'width: 100px; height: 100px; background-color:yellow'</span>  <span class="attr">catchtap</span>=<span class="string">"handleTap2"</span>&gt;</span></span><br><span class="line">    我是他爸爸</span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"inner"</span> <span class="attr">style</span>=<span class="string">'width: 50px; height: 50px; background-color:blue'</span>  <span class="attr">bindtap</span>=<span class="string">"handleTap3"</span>&gt;</span>我是他儿子<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这样的话，事件冒泡到<code>我是他爸爸</code>这个盒子之后就不会再冒泡了</p>
<h5 id="事件捕获"><a href="#事件捕获" class="headerlink" title="事件捕获"></a>事件捕获</h5><blockquote>
<p>自基础库版本 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">1.5.0</a> 起，触摸类事件支持捕获阶段。捕获阶段位于冒泡阶段之前，且在捕获阶段中，事件到达节点的顺序与冒泡阶段恰好相反。需要在捕获阶段监听事件时，可以采用<code>capture-bind</code>、<code>capture-catch</code>关键字，后者将中断捕获阶段和取消冒泡阶段。</p>
<p>在下面的代码中，点击 inner view 会先后调用<code>handleTap2</code>、<code>handleTap4</code>、<code>handleTap3</code>、<code>handleTap1</code></p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"outer"</span> <span class="attr">style</span>=<span class="string">'width: 200px; height: 200px; background-color:red'</span>  <span class="attr">bind:tap</span>=<span class="string">"handleTap1"</span> <span class="attr">capture-bind:tap</span>=<span class="string">"handleTap2"</span>&gt;</span></span><br><span class="line">    我是他爸爸</span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"middle"</span> <span class="attr">style</span>=<span class="string">'width: 100px; height: 100px; background-color:yellow'</span> <span class="attr">bind:tap</span>=<span class="string">"handleTap3"</span> <span class="attr">capture-bind:tap</span>=<span class="string">"handleTap4"</span>&gt;</span> 我是我自己<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    ...</span><br><span class="line">    handleTap1() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'我是handleTap1'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTap2() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'我是handleTap2'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTap3() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'我是handleTap3'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTap4() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'我是handleTap4'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="/微信小程序学习笔记/事件捕获.png" alt="事件捕获"></p>
<p>如果将上面代码中的第一个<code>capture-bind</code>改为<code>capture-catch</code>，将只触发<code>handleTap2</code></p>
<h4 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h4><blockquote>
<p>如无特殊说明，当组件触发事件时，逻辑层绑定该事件的处理函数会收到一个事件对象</p>
</blockquote>
<p><strong>BaseEvent 基础事件对象属性列表：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#type" rel="external nofollow noopener noreferrer" target="_blank">type</a></td>
<td>String</td>
<td>事件类型</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#timestamp" rel="external nofollow noopener noreferrer" target="_blank">timeStamp</a></td>
<td>Integer</td>
<td>事件生成时的时间戳</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#target" rel="external nofollow noopener noreferrer" target="_blank">target</a></td>
<td>Object</td>
<td>触发事件的组件的一些属性值集合</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#currenttarget" rel="external nofollow noopener noreferrer" target="_blank">currentTarget</a></td>
<td>Object</td>
<td>当前组件的一些属性值集合</td>
</tr>
</tbody>
</table>
<p><strong>CustomEvent 自定义事件对象属性列表（继承 BaseEvent）：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#detail" rel="external nofollow noopener noreferrer" target="_blank">detail</a></td>
<td>Object</td>
<td>额外的信息</td>
</tr>
</tbody>
</table>
<p><strong>TouchEvent 触摸事件对象属性列表（继承 BaseEvent）：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#touches" rel="external nofollow noopener noreferrer" target="_blank">touches</a></td>
<td>Array</td>
<td>触摸事件，当前停留在屏幕中的触摸点信息的数组</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#changedtouches" rel="external nofollow noopener noreferrer" target="_blank">changedTouches</a></td>
<td>Array</td>
<td>触摸事件，当前变化的触摸点信息的数组</td>
</tr>
</tbody>
</table>
<p><strong>特殊事件： <canvas> 中的触摸事件不可冒泡，所以没有 currentTarget。</canvas></strong></p>
<h5 id="type"><a href="#type" class="headerlink" title="type"></a>type</h5><blockquote>
<p>代表事件的类型</p>
</blockquote>
<h5 id="timeStamp"><a href="#timeStamp" class="headerlink" title="timeStamp"></a>timeStamp</h5><blockquote>
<p>页面打开到触发事件所经过的毫秒数</p>
</blockquote>
<h5 id="target"><a href="#target" class="headerlink" title="target"></a>target</h5><blockquote>
<p>触发事件的源组件</p>
</blockquote>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>String</td>
<td>事件源组件的id</td>
</tr>
<tr>
<td>tagName</td>
<td>String</td>
<td>当前组件的类型</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#dataset" rel="external nofollow noopener noreferrer" target="_blank">dataset</a></td>
<td>Object</td>
<td>事件源组件上由<code>data-</code>开头的自定义属性组成的集合</td>
</tr>
</tbody>
</table>
<h5 id="currentTarget"><a href="#currentTarget" class="headerlink" title="currentTarget"></a>currentTarget</h5><blockquote>
<p>事件绑定的当前组件</p>
</blockquote>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>String</td>
<td>当前组件的id</td>
</tr>
<tr>
<td>tagName</td>
<td>String</td>
<td>当前组件的类型</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#dataset" rel="external nofollow noopener noreferrer" target="_blank">dataset</a></td>
<td>Object</td>
<td>当前组件上由<code>data-</code>开头的自定义属性组成的集合</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>说明： target 和 currentTarget 可以参考前面的例子</strong></p>
</blockquote>
<h5 id="dataset"><a href="#dataset" class="headerlink" title="dataset"></a>dataset</h5><blockquote>
<p>这个在前面传参中也有提到过</p>
<p>在组件中可以定义数据，这些数据将会通过事件传递给 SERVICE。 书写方式： 以<code>data-</code>开头，多个单词由连字符<code>-</code>链接，不能有大写(大写会自动转成小写)如<code>data-element-type</code>，最终在 event.currentTarget.dataset 中会将连字符转成驼峰<code>elementType</code></p>
</blockquote>
<p><strong>示例</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;view data-alpha-beta=&quot;1&quot; data-alphaBeta=&quot;2&quot; bindtap=&quot;bindViewTap&quot;&gt;</span><br><span class="line">  DataSet Test</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  bindViewTap(event) &#123;</span><br><span class="line">    event.currentTarget.dataset.alphaBeta === 1 // - 会转为驼峰写法</span><br><span class="line">    event.currentTarget.dataset.alphabeta === 2 // 大写会转为小写</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="touches"><a href="#touches" class="headerlink" title="touches"></a>touches</h5><blockquote>
<p>touches 是一个数组，每个元素为一个 Touch 对象（canvas 触摸事件中携带的 touches 是 CanvasTouch 数组）。 表示当前停留在屏幕上的触摸点</p>
</blockquote>
<h5 id="Touch-对象"><a href="#Touch-对象" class="headerlink" title="Touch 对象"></a>Touch 对象</h5><table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>identifier</td>
<td>Number</td>
<td>触摸点的标识符</td>
</tr>
<tr>
<td>pageX, pageY</td>
<td>Number</td>
<td>距离文档左上角的距离，文档的左上角为原点 ，横向为X轴，纵向为Y轴</td>
</tr>
<tr>
<td>clientX, clientY</td>
<td>Number</td>
<td>距离页面可显示区域（屏幕除去导航条）左上角距离，横向为X轴，纵向为Y轴</td>
</tr>
</tbody>
</table>
<h5 id="CanvasTouch-对象"><a href="#CanvasTouch-对象" class="headerlink" title="CanvasTouch 对象"></a>CanvasTouch 对象</h5><table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
<th>特殊说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>identifier</td>
<td>Number</td>
<td>触摸点的标识符</td>
<td></td>
</tr>
<tr>
<td>x, y</td>
<td>Number</td>
<td>距离 Canvas 左上角的距离，Canvas 的左上角为原点 ，横向为X轴，纵向为Y轴</td>
</tr>
</tbody>
</table>
<h5 id="changedTouches"><a href="#changedTouches" class="headerlink" title="changedTouches"></a>changedTouches</h5><blockquote>
<p>changedTouches 数据格式同 touches。 表示有变化的触摸点，如从无变有（touchstart），位置变化（touchmove），从有变无（touchend、touchcancel）</p>
</blockquote>
<h5 id="detail"><a href="#detail" class="headerlink" title="detail"></a>detail</h5><blockquote>
<p>自定义事件所携带的数据，如表单组件的提交事件会携带用户的输入，媒体的错误事件会携带错误信息，详见<a href="https://developers.weixin.qq.com/miniprogram/dev/component" rel="external nofollow noopener noreferrer" target="_blank">组件</a>定义中各个事件的定义</p>
<p>点击事件的<code>detail</code> 带有的 x, y 同 pageX, pageY 代表距离文档左上角的距离</p>
</blockquote>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><blockquote>
<p>WXML 提供两种文件引用方式<code>import</code>和<code>include</code></p>
</blockquote>
<h4 id="import"><a href="#import" class="headerlink" title="import"></a>import</h4><blockquote>
<p><code>import</code>可以在该文件中使用目标文件定义的<code>template</code>，如：</p>
<p>在 item.wxml 中定义了一个叫<code>item</code>的<code>template</code>：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- item.wxml --&gt;</span><br><span class="line">&lt;template name=&quot;item&quot;&gt;</span><br><span class="line">  &lt;text&gt;&#123;&#123;text&#125;&#125;&lt;/text&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在 index.wxml 中引用了 item.wxml，就可以使用<code>item</code>模板：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;import src=&quot;item.wxml&quot; /&gt;</span><br><span class="line">&lt;template is=&quot;item&quot; data=&quot;&#123;&#123;text: &apos;forbar&apos;&#125;&#125;&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h4 id="import-的作用域"><a href="#import-的作用域" class="headerlink" title="import 的作用域"></a>import 的作用域</h4><blockquote>
<p>import 有作用域的概念，即只会 import 目标文件中定义的 template，而不会 import 目标文件 import 的 template</p>
</blockquote>
<blockquote>
<p><strong>如：C import B，B import A，在C中可以使用B定义的template，在B中可以使用A定义的template，但是C不能使用A定义的template</strong>。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- A.wxml --&gt;</span><br><span class="line">&lt;template name=&quot;A&quot;&gt;</span><br><span class="line">  &lt;text&gt;A template&lt;/text&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- B.wxml --&gt;</span><br><span class="line">&lt;import src=&quot;a.wxml&quot; /&gt;</span><br><span class="line">&lt;template name=&quot;B&quot;&gt;</span><br><span class="line">  &lt;text&gt;B template&lt;/text&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- C.wxml --&gt;</span><br><span class="line">&lt;import src=&quot;b.wxml&quot; /&gt;</span><br><span class="line">&lt;template is=&quot;A&quot; /&gt;</span><br><span class="line">&lt;!-- Error! Can not use tempalte when not import A. --&gt;</span><br><span class="line">&lt;template is=&quot;B&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h4 id="include"><a href="#include" class="headerlink" title="include"></a>include</h4><blockquote>
<p><code>include</code> 可以将目标文件<strong>除了</strong> <code>&lt;template/&gt;</code> <code>&lt;wxs/&gt;</code> 外的整个代码引入，相当于是拷贝到 <code>include</code> 位置，如：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- index.wxml --&gt;</span><br><span class="line">&lt;include src=&quot;header.wxml&quot; /&gt;</span><br><span class="line">&lt;view&gt;body&lt;/view&gt;</span><br><span class="line">&lt;include src=&quot;footer.wxml&quot; /&gt;</span><br><span class="line">&lt;!-- header.wxml --&gt;</span><br><span class="line">&lt;view&gt;header&lt;/view&gt;</span><br><span class="line">&lt;!-- footer.wxml --&gt;</span><br><span class="line">&lt;view&gt;footer&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<h3 id="单向数据流"><a href="#单向数据流" class="headerlink" title="单向数据流"></a>单向数据流</h3><p>由于微信小程序框架中没有像<code>Angular</code>中的<code>ngMoudel</code>或者<code>Vue</code>中的<code>v-model</code>的双向数据绑定，所以默认微信小程序中的数据流只有单向数据流</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    ...</span><br><span class="line">    inputHandle(e) &#123;</span><br><span class="line">    <span class="comment">// console.log(e.detail.value)</span></span><br><span class="line">    <span class="comment">// console.log(this.data.message)</span></span><br><span class="line">    <span class="comment">// this.data.message = e.detail.value </span></span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      message: e.detail.value</span><br><span class="line">    &#125;) </span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">'&#123;&#123; message &#125;&#125;'</span> <span class="attr">bindinput</span>=<span class="string">'inputHandle'</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>发现只有内存中的数据改变了，页面却不能跟随变化</p>
<h3 id="双向数据绑定"><a href="#双向数据绑定" class="headerlink" title="双向数据绑定"></a>双向数据绑定</h3><p>利用<code>setData()</code>这个内部方法进行双向数据绑定</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    ...</span><br><span class="line">    inputHandle(e) &#123;</span><br><span class="line">    <span class="comment">// console.log(e.detail.value)</span></span><br><span class="line">    <span class="comment">// console.log(this.data.message)</span></span><br><span class="line">    <span class="keyword">this</span>.data.message = e.detail.value    </span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这样实现内存和页面中数据同步更新</p>
<p><img src="/微信小程序学习笔记/微信小程序的双向数据绑定.png" alt="微信小程序的双向数据绑定"></p>
<h3 id="WXSS-样式"><a href="#WXSS-样式" class="headerlink" title="WXSS 样式"></a>WXSS 样式</h3><p>WXSS(WeiXin Style Sheets)是一套样式语言。</p>
<p>与 CSS 相比，WXSS 扩展以下2个特性：</p>
<ul>
<li>尺寸单位      rpx ( responsive pixel 响应式像素) ，750rpx充满屏幕</li>
<li>样式导入      @import  “样式表路径”;</li>
</ul>
<h2 id="微信小程序组件-标签"><a href="#微信小程序组件-标签" class="headerlink" title="微信小程序组件(标签)"></a>微信小程序组件(标签)</h2><p>组件文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/component/" rel="external nofollow noopener noreferrer" target="_blank">https://developers.weixin.qq.com/miniprogram/dev/component/</a></p>
<h3 id="常用布局标签"><a href="#常用布局标签" class="headerlink" title="常用布局标签"></a>常用布局标签</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span>				视图容器，相当于    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span>				相当于    <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">image</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span>				相当于    <span class="tag">&lt;<span class="name">img</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span>&gt;</span><span class="tag">&lt;/<span class="name">navigator</span>&gt;</span>		相当于    <span class="tag">&lt;<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span>&gt;</span><span class="tag">&lt;/<span class="name">block</span>&gt;</span>				区块标签，不会渲染到页面</span><br></pre></td></tr></table></figure>
<p><strong>注意：image组件默认宽度300px、高度225px，很多时候我们都不需要这个默认宽高，记得手动设置宽高</strong></p>
<h3 id="flex布局"><a href="#flex布局" class="headerlink" title="flex布局"></a>flex布局</h3><p>参考文档<a href="https://qqqww.com/Flex%E5%B8%83%E5%B1%80/">https://qqqww.com/Flex%E5%B8%83%E5%B1%80/</a></p>
<h2 id="页面间跳转（navigator）"><a href="#页面间跳转（navigator）" class="headerlink" title="页面间跳转（navigator）"></a>页面间跳转（navigator）</h2><h3 id="新建页面小技巧"><a href="#新建页面小技巧" class="headerlink" title="新建页面小技巧"></a>新建页面小技巧</h3><p>当我们新建页面的时候，自己去新建一个页面，每个页面还要新建好几个文件，很麻烦，这里其实不需要直接新建，在配置<code>app.json</code>的时候，微信开发者工具会自动帮我们创建好，看下图，我左侧是没有<code>demo4</code>这个页面的，但是右边配置中写上了<code>&quot;pages/demo4/deom4&quot;</code>，那么<code>ctrl+s</code>保存之后，可以看到，左边的页面以及需求的文件都被自动创建出来了</p>
<p><img src="/微信小程序学习笔记/保存前.png" alt="保存前"></p>
<p><img src="/微信小程序学习笔记/保存后.png" alt="保存后"></p>
<h3 id="如何做页面跳转"><a href="#如何做页面跳转" class="headerlink" title="如何做页面跳转"></a>如何做页面跳转</h3><p><strong>语法</strong>：</p>
<ol>
<li>在当前页面设置跳转</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"想去到达页面的相对路径"</span>&gt;</span><span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>配置<code>json</code>，不然页面跳转无法显示</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"usingComponents"</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="页面间传值"><a href="#页面间传值" class="headerlink" title="页面间传值"></a>页面间传值</h3><p>以往通过<code>?</code>或者请求体进行传值</p>
<p>在小程序中，页面间的传值，也可以利用<code>?</code>传参，在需要使用的传过来的数的时候，在该页面的<code>js</code>文件的<code>onLoad</code>生命周期的时候通过<code>options</code>去接受参数</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// demo1.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"../demo2/demo2?name=小明&amp;age=18"</span>&gt;</span>小明<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"../demo2/demo2?name=小红"</span>&gt;</span>小红<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/demo2/demo2.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;&#125;,</span><br><span class="line">  onLoad:<span class="function"><span class="keyword">function</span>(<span class="params">options</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 页面初始化 options为页面跳转所带来的参数</span></span><br><span class="line">    <span class="built_in">console</span>.log(options)</span><br><span class="line">  &#125;,</span><br><span class="line">  onReady:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 页面渲染完成</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onShow:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 页面显示</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onHide:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 页面隐藏</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onUnload:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 页面关闭</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="页面导航模式"><a href="#页面导航模式" class="headerlink" title="页面导航模式"></a>页面导航模式</h3><p>通过<code>redirect</code>进行重定向，类型时布尔类型</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// demo1.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"../demo2/demo2"</span> <span class="attr">redirect</span>&gt;</span>跳转过去（不回来了）<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="导航元素点击高亮"><a href="#导航元素点击高亮" class="headerlink" title="导航元素点击高亮"></a>导航元素点击高亮</h3><p>利用<code>hover-class</code>控制点击时添加自定义的高亮的类</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// demo1.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">hover-class</span>=<span class="string">"my-hover"</span>&gt;</span>点我点我<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">hover-class</span>=<span class="string">"none"</span>&gt;</span>点我点我<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// demo1.wxss</span><br><span class="line"><span class="selector-class">.my-hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>cursor pointer 的方式是一个小技巧，可以让任何元素点击时高亮</strong> </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// demo1.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">"hover-demo"</span> <span class="attr">src</span>=<span class="string">"../../images/poster.jpg"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// demo1.wxss</span><br><span class="line"><span class="selector-class">.hover-demo</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="页面导航API"><a href="#页面导航API" class="headerlink" title="页面导航API"></a>页面导航API</h3><p>可以利用<code>wx.navigateTo</code>进行跳转，并可以在<code>url</code>中添加链接，<code>?</code>后面接收参数</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// demo1.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"primary"</span> <span class="attr">bindtap</span>=<span class="string">"tapHandle"</span>&gt;</span>跳转过去<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// demo1.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">    tapHandle: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 当我们点击按钮 系统会自动执行这里的代码</span></span><br><span class="line">        <span class="comment">// console.log(1111)</span></span><br><span class="line">        wx.navigateTo(&#123;</span><br><span class="line">          url: <span class="string">'../demo2/demo2?id=123'</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 相当于加上redirect的 navigator</span></span><br><span class="line">        <span class="comment">// wx.redirectTo(&#123;</span></span><br><span class="line">        <span class="comment">//   url: '../demo2/demo2'</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="基础内容"><a href="#基础内容" class="headerlink" title="基础内容"></a>基础内容</h2><table>
<thead>
<tr>
<th>组件名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/icon.html" rel="external nofollow noopener noreferrer" target="_blank">icon</a></td>
<td>图标</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/text.html" rel="external nofollow noopener noreferrer" target="_blank">text</a></td>
<td>文字，可以嵌套，支持换行</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/rich-text.html" rel="external nofollow noopener noreferrer" target="_blank">rich-text</a></td>
<td>富文本</td>
</tr>
<tr>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/progress.html" rel="external nofollow noopener noreferrer" target="_blank">progress</a></td>
<td>进度条</td>
</tr>
</tbody>
</table>
<h3 id="icon"><a href="#icon" class="headerlink" title="icon"></a>icon</h3><table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>String</td>
<td></td>
<td>icon的类型，有效值：success, success_no_circle, info, warn, waiting, cancel, download, search, clear</td>
</tr>
<tr>
<td>size</td>
<td>Number / String</td>
<td>23px</td>
<td>icon的大小，单位px（2.4.0起支持rpx）</td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td></td>
<td>icon的颜色，同css的color</td>
</tr>
<tr>
<td>aria-label</td>
<td>String</td>
<td></td>
<td>无障碍访问，（属性）元素的额外描述 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.5.0</a></td>
</tr>
</tbody>
</table>
<h4 id="属性type"><a href="#属性type" class="headerlink" title="属性type"></a>属性type</h4><ul>
<li>用于定义图标类型，只能是规定范围的类型，除了这些内置图标，其他的图标必须通过图片的方式使用</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">icon</span> <span class="attr">type</span>=<span class="string">"success"</span>&gt;</span><span class="tag">&lt;/<span class="name">icon</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="属性size"><a href="#属性size" class="headerlink" title="属性size"></a>属性size</h4><ul>
<li>size用于指定图标大小，默认是 23px</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">icon</span> <span class="attr">type</span>=<span class="string">"success"</span> <span class="attr">size</span>=<span class="string">"60"</span>&gt;</span><span class="tag">&lt;/<span class="name">icon</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="属性color"><a href="#属性color" class="headerlink" title="属性color"></a>属性color</h4><ul>
<li>color用于指定图标颜色，取值和css取值一样</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">icon</span> <span class="attr">type</span>=<span class="string">"success"</span> <span class="attr">size</span>=<span class="string">"60"</span> <span class="attr">color</span>=<span class="string">"red"</span>&gt;</span><span class="tag">&lt;/<span class="name">icon</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/微信小程序学习笔记/icon.png" alt="icon"></p>
<h3 id="rich-text"><a href="#rich-text" class="headerlink" title="rich-text"></a>rich-text</h3><blockquote>
<ol>
<li><code>tip</code>: nodes 不推荐使用 String 类型，性能会有所下降。</li>
<li><code>tip</code>: <code>rich-text</code> 组件内屏蔽所有节点的事件。</li>
<li><code>tip</code>: attrs 属性不支持 id ，支持 class 。</li>
<li><code>tip</code>: name 属性大小写不敏感。</li>
<li><code>tip</code>: 如果使用了不受信任的HTML节点，该节点及其所有子节点将会被移除。</li>
<li><code>tip</code>: img 标签仅支持网络图片。</li>
<li><code>tip</code>: 如果在自定义组件中使用 <code>rich-text</code> 组件，那么仅自定义组件的 wxss 样式对 <code>rich-text</code> 中的 class 生效。</li>
</ol>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"page-body"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"page-section"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"page-section-title"</span>&gt;</span>传入html字符串<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"rich-text-wrp"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rich-text</span> <span class="attr">nodes</span>=<span class="string">"&#123;&#123;html&#125;&#125;"</span> <span class="attr">bindtap</span>=<span class="string">"tap"</span>&gt;</span><span class="tag">&lt;/<span class="name">rich-text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"page-section"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"page-section-title"</span>&gt;</span>传入节点列表<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"rich-text-wrp"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rich-text</span> <span class="attr">nodes</span>=<span class="string">"&#123;&#123;nodes&#125;&#125;"</span> <span class="attr">bindtap</span>=<span class="string">"tap"</span>&gt;</span><span class="tag">&lt;/<span class="name">rich-text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">rich-text</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">700</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">25</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.rich-text-wrp</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">25</span>rpx;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page-section</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">60</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page-section</span><span class="selector-pseudo">:last-child</span>&#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page-section-title</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#999999</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    html: <span class="string">'&lt;div class="div_class" style="line-height: 60px; color: red;"&gt;Hello&amp;nbsp;World!&lt;/div&gt;'</span>,</span><br><span class="line">    nodes: [&#123;</span><br><span class="line">      name: <span class="string">'div'</span>,</span><br><span class="line">      attrs: &#123;</span><br><span class="line">        class: 'div_class',</span><br><span class="line">        style: <span class="string">'line-height: 60px; color: red;'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      children: [&#123;</span><br><span class="line">        type: <span class="string">'text'</span>,</span><br><span class="line">        text: <span class="string">'Hello&amp;nbsp;World!'</span></span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  tap() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'tap'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="progress"><a href="#progress" class="headerlink" title="progress"></a>progress</h3><ul>
<li>这个直接写代码到页面上是不会出现进度条的，原因在于其父元素的设置了<code>flex</code>且<code>align-item:center</code>导致没有宽度，需要自己加宽度才能显示，看下图，修改了控制台内其父元素的样式之后就可以了</li>
</ul>
<p><img src="/微信小程序学习笔记/progress.png" alt="progress"></p>
<ul>
<li>加上<code>active</code>属性，有一个从左到右的进度条动画</li>
<li>其他属性</li>
</ul>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>percent</td>
<td>Float</td>
<td>无</td>
<td>百分比0~100</td>
<td></td>
</tr>
<tr>
<td>show-info</td>
<td>Boolean</td>
<td>false</td>
<td>在进度条右侧显示百分比</td>
<td></td>
</tr>
<tr>
<td>border-radius</td>
<td>Number / String</td>
<td>0</td>
<td>圆角大小，单位px（2.4.0起支持rpx）</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.3.1</a></td>
</tr>
<tr>
<td>font-size</td>
<td>Number / String</td>
<td>16</td>
<td>右侧百分比字体大小，单位px（2.4.0起支持rpx）</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.3.1</a></td>
</tr>
<tr>
<td>stroke-width</td>
<td>Number / String</td>
<td>6</td>
<td>进度条线的宽度，单位px（2.4.0起支持rpx）</td>
<td></td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td>#09BB07</td>
<td>进度条颜色 （请使用 activeColor）</td>
<td></td>
</tr>
<tr>
<td>activeColor</td>
<td>Color</td>
<td></td>
<td>已选择的进度条的颜色</td>
<td></td>
</tr>
<tr>
<td>backgroundColor</td>
<td>Color</td>
<td></td>
<td>未选择的进度条的颜色</td>
<td></td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>false</td>
<td>进度条从左往右的动画</td>
<td></td>
</tr>
<tr>
<td>active-mode</td>
<td>String</td>
<td>backwards</td>
<td>backwards: 动画从头播；forwards：动画从上次结束点接着播</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">1.7.0</a></td>
</tr>
<tr>
<td>bindactiveend</td>
<td>EventHandle</td>
<td></td>
<td>动画完成事件</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.4.1</a></td>
</tr>
<tr>
<td>aria-label</td>
<td>String</td>
<td></td>
<td>无障碍访问，（属性）元素的额外描述</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.5.0</a></td>
</tr>
</tbody>
</table>
<h2 id="常用表单标签"><a href="#常用表单标签" class="headerlink" title="常用表单标签"></a>常用表单标签</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span>				</span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="button"><a href="#button" class="headerlink" title="button"></a>button</h3><p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/button.html" rel="external nofollow noopener noreferrer" target="_blank">button参考文档</a></p>
<h4 id="type有效值"><a href="#type有效值" class="headerlink" title="type有效值"></a>type有效值</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'warn'</span>&gt;</span>这是一个红色按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'primary'</span>&gt;</span>这是一个绿色按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'default'</span>&gt;</span>这是一个白色按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="size有效值"><a href="#size有效值" class="headerlink" title="size有效值"></a>size有效值</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'warn'</span> <span class="attr">size</span>=<span class="string">'default'</span>&gt;</span>这是一个红色按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'primary'</span> <span class="attr">size</span>=<span class="string">'mini'</span>&gt;</span>这是一个小尺寸绿色按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'default'</span>&gt;</span>这是一个白色按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="form-type-有效值"><a href="#form-type-有效值" class="headerlink" title="form-type 有效值"></a><strong>form-type 有效值</strong></h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>submit</td>
<td>提交表单</td>
</tr>
<tr>
<td>reset</td>
<td>重置表单</td>
</tr>
</tbody>
</table>
<h4 id="hover-class"><a href="#hover-class" class="headerlink" title="hover-class"></a>hover-class</h4><p>当按钮按下去，将<code>hover-class</code>指向想要展示出来的类</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">hover-class</span>=<span class="string">'btn-active'</span>&gt;</span>hover-class<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn-active</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>演示图片</strong>：</p>
<p><img src="/微信小程序学习笔记/button.png" alt="button"></p>
<h4 id="checkbox"><a href="#checkbox" class="headerlink" title="checkbox"></a>checkbox</h4><p>多选框</p>
<h4 id="checkbox-group"><a href="#checkbox-group" class="headerlink" title="checkbox-group"></a>checkbox-group</h4><p>多项选择器，内部由多个<code>checkbox</code>组成。</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td><code>&lt;checkbox-group&gt;</code>中选中项发生改变时触发 change 事件，detail = {value:[选中的checkbox的value的数组]}</td>
</tr>
</tbody>
</table>
<h4 id="checkbox-1"><a href="#checkbox-1" class="headerlink" title="checkbox"></a>checkbox</h4><p>多选项目。</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>String</td>
<td></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" rel="external nofollow noopener noreferrer" target="_blank"><code></code></a>标识，选中时触发<a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" rel="external nofollow noopener noreferrer" target="_blank"><code></code></a>的 change 事件，并携带 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" rel="external nofollow noopener noreferrer" target="_blank"><code></code></a> 的 value</td>
<td></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
<tr>
<td>checked</td>
<td>Boolean</td>
<td>false</td>
<td>当前是否选中，可用来设置默认选中</td>
<td></td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td></td>
<td>checkbox的颜色，同css的color</td>
<td></td>
</tr>
<tr>
<td>aria-label</td>
<td>String</td>
<td></td>
<td>无障碍访问，（属性）元素的额外描述</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="external nofollow noopener noreferrer" target="_blank">2.5.0</a></td>
</tr>
</tbody>
</table>
<p> <strong>演示图片</strong>：</p>
<p><img src="/微信小程序学习笔记/checkbox.png" alt="checkbox"></p>
<h3 id="form"><a href="#form" class="headerlink" title="form"></a>form</h3><p>类似于HTML的form，将一些需要在表单中呈现的元素框起来</p>
<p><strong>区别</strong>：</p>
<p>这里的form事件绑定方式是通过：<code>bindsubmit</code>提交，和<code>bindreset</code>重置</p>
<p><strong>注意</strong>：</p>
<p>表单，将组件内的用户输入的<code>&lt;switch&gt;、&lt;input&gt;、&lt;checkbox&gt;、&lt;slider&gt;、&lt;radio&gt;、&lt;picker&gt;</code>提交。</p>
<p>当点击<code>&lt;form&gt;</code>表单中 form-type 为 submit 的<code>&lt;button&gt;</code>组件时，会将表单组件中的 value 值进行提交，需要在表单组件中加上 name 来作为 key。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">bindsubmit</span>=<span class="string">"formSubmit"</span> <span class="attr">bindreset</span>=<span class="string">"formReset"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section section_gap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>switch<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">switch</span> <span class="attr">name</span>=<span class="string">"switch"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section section_gap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>slider<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slider</span> <span class="attr">name</span>=<span class="string">"slider"</span> <span class="attr">show-value</span>&gt;</span><span class="tag">&lt;/<span class="name">slider</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>input<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"input"</span> <span class="attr">placeholder</span>=<span class="string">"please input here"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section section_gap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>radio<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">radio-group</span> <span class="attr">name</span>=<span class="string">"radio-group"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">radio</span> <span class="attr">value</span>=<span class="string">"radio1"</span> /&gt;</span></span><br><span class="line">        radio1</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">radio</span> <span class="attr">value</span>=<span class="string">"radio2"</span> /&gt;</span></span><br><span class="line">        radio2</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">radio-group</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section section_gap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>checkbox<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">checkbox-group</span> <span class="attr">name</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"checkbox1"</span> /&gt;</span></span><br><span class="line">        checkbox1</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"checkbox2"</span> /&gt;</span></span><br><span class="line">        checkbox2</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"btn-area"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">form-type</span>=<span class="string">"submit"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">form-type</span>=<span class="string">"reset"</span>&gt;</span>Reset<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  formSubmit(e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'form发生了submit事件，携带数据为：'</span>, e.detail.value)</span><br><span class="line">  &#125;,</span><br><span class="line">  formReset() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'form发生了reset事件'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="input"><a href="#input" class="headerlink" title="input"></a>input</h3><p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html" rel="external nofollow noopener noreferrer" target="_blank">input在线文档</a></p>
<p>和原生基本类似，体验</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">'input1'</span> <span class="attr">placeholder</span>=<span class="string">'请输入...'</span> <span class="attr">placeholder-class</span>=<span class="string">'input-placeholder'</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.input1</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#c0c0c0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.input-placeholder</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="label"><a href="#label" class="headerlink" title="label"></a>label</h3><p>基本和HTML差不多</p>
<blockquote>
<p>用来改进表单组件的可用性，使用<code>for</code>属性找到对应的<code>id</code>，或者将控件放在该标签下，当点击时，就会触发对应的控件。</p>
<p><code>for</code>优先级高于内部控件，内部有多个控件的时候默认触发第一个控件。</p>
<p>目前可以绑定的控件有：[<code>button  checkbox  radio  switch</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>for</td>
<td>String</td>
<td>绑定控件的 id</td>
</tr>
</tbody>
</table>
<h3 id="picker"><a href="#picker" class="headerlink" title="picker"></a>picker</h3><p>支持滚动的选择器，类似下图这样</p>
<p><img src="/微信小程序学习笔记/省市选择器.png" alt="省市选择器"></p>
<p>目前<code>picker</code>支持五类选择器，普通选择器，多列选择器，时间选择器（一天内的时间），日期选择器（年月日），省市选择器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>普通选择器<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">picker</span> <span class="attr">bindchange</span>=<span class="string">"bindPickerChange"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">range</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"picker"</span>&gt;</span></span><br><span class="line">      当前选择：&#123;&#123;array[index]&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>多列选择器<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">picker</span> <span class="attr">mode</span>=<span class="string">"multiSelector"</span> <span class="attr">bindchange</span>=<span class="string">"bindMultiPickerChange"</span> <span class="attr">bindcolumnchange</span>=<span class="string">"bindMultiPickerColumnChange"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;multiIndex&#125;&#125;"</span> <span class="attr">range</span>=<span class="string">"&#123;&#123;multiArray&#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"picker"</span>&gt;</span></span><br><span class="line">      当前选择：&#123;&#123;multiArray[0][multiIndex[0]]&#125;&#125;，&#123;&#123;multiArray[1][multiIndex[1]]&#125;&#125;，&#123;&#123;multiArray[2][multiIndex[2]]&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>时间选择器<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">picker</span> <span class="attr">mode</span>=<span class="string">"time"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;time&#125;&#125;"</span> <span class="attr">start</span>=<span class="string">"09:01"</span> <span class="attr">end</span>=<span class="string">"21:01"</span> <span class="attr">bindchange</span>=<span class="string">"bindTimeChange"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"picker"</span>&gt;</span></span><br><span class="line">      当前选择: &#123;&#123;time&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>日期选择器<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">picker</span> <span class="attr">mode</span>=<span class="string">"date"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;date&#125;&#125;"</span> <span class="attr">start</span>=<span class="string">"2015-09-01"</span> <span class="attr">end</span>=<span class="string">"2017-09-01"</span> <span class="attr">bindchange</span>=<span class="string">"bindDateChange"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"picker"</span>&gt;</span></span><br><span class="line">      当前选择: &#123;&#123;date&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section__title"</span>&gt;</span>省市区选择器<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">picker</span> <span class="attr">mode</span>=<span class="string">"region"</span> <span class="attr">bindchange</span>=<span class="string">"bindRegionChange"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;region&#125;&#125;"</span> <span class="attr">custom-item</span>=<span class="string">"&#123;&#123;customItem&#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"picker"</span>&gt;</span></span><br><span class="line">      当前选择：&#123;&#123;region[0]&#125;&#125;，&#123;&#123;region[1]&#125;&#125;，&#123;&#123;region[2]&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 这里注意需要现在`lib`文件夹中放入`weui.wxss`的依赖文件</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"../lib/weui.wxss"</span>;</span><br><span class="line"><span class="selector-class">.picker</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FFFFFF</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    array: [<span class="string">'美国'</span>, <span class="string">'中国'</span>, <span class="string">'巴西'</span>, <span class="string">'日本'</span>],</span><br><span class="line">    objectArray: [</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">0</span>,</span><br><span class="line">        name: <span class="string">'美国'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">1</span>,</span><br><span class="line">        name: <span class="string">'中国'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">2</span>,</span><br><span class="line">        name: <span class="string">'巴西'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">3</span>,</span><br><span class="line">        name: <span class="string">'日本'</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    index: <span class="number">0</span>,</span><br><span class="line">    multiArray: [[<span class="string">'无脊柱动物'</span>, <span class="string">'脊柱动物'</span>], [<span class="string">'扁性动物'</span>, <span class="string">'线形动物'</span>, <span class="string">'环节动物'</span>, <span class="string">'软体动物'</span>, <span class="string">'节肢动物'</span>], [<span class="string">'猪肉绦虫'</span>, <span class="string">'吸血虫'</span>]],</span><br><span class="line">    objectMultiArray: [</span><br><span class="line">      [</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">0</span>,</span><br><span class="line">          name: <span class="string">'无脊柱动物'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          name: <span class="string">'脊柱动物'</span></span><br><span class="line">        &#125;</span><br><span class="line">      ], [</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">0</span>,</span><br><span class="line">          name: <span class="string">'扁性动物'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          name: <span class="string">'线形动物'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">2</span>,</span><br><span class="line">          name: <span class="string">'环节动物'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">3</span>,</span><br><span class="line">          name: <span class="string">'软体动物'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">3</span>,</span><br><span class="line">          name: <span class="string">'节肢动物'</span></span><br><span class="line">        &#125;</span><br><span class="line">      ], [</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">0</span>,</span><br><span class="line">          name: <span class="string">'猪肉绦虫'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          name: <span class="string">'吸血虫'</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    ],</span><br><span class="line">    multiIndex: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">    date: <span class="string">'2016-09-01'</span>,</span><br><span class="line">    time: <span class="string">'12:01'</span>,</span><br><span class="line">    region: [<span class="string">'广东省'</span>, <span class="string">'广州市'</span>, <span class="string">'海珠区'</span>],</span><br><span class="line">    customItem: <span class="string">'全部'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  bindPickerChange: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'picker发送选择改变，携带值为'</span>, e.detail.value)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      index: e.detail.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  bindMultiPickerChange: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'picker发送选择改变，携带值为'</span>, e.detail.value)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      multiIndex: e.detail.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  bindMultiPickerColumnChange: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'修改的列为'</span>, e.detail.column, <span class="string">'，值为'</span>, e.detail.value);</span><br><span class="line">    <span class="keyword">var</span> data = &#123;</span><br><span class="line">      multiArray: <span class="keyword">this</span>.data.multiArray,</span><br><span class="line">      multiIndex: <span class="keyword">this</span>.data.multiIndex</span><br><span class="line">    &#125;;</span><br><span class="line">    data.multiIndex[e.detail.column] = e.detail.value;</span><br><span class="line">    <span class="keyword">switch</span> (e.detail.column) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">switch</span> (data.multiIndex[<span class="number">0</span>]) &#123;</span><br><span class="line">          <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            data.multiArray[<span class="number">1</span>] = [<span class="string">'扁性动物'</span>, <span class="string">'线形动物'</span>, <span class="string">'环节动物'</span>, <span class="string">'软体动物'</span>, <span class="string">'节肢动物'</span>];</span><br><span class="line">            data.multiArray[<span class="number">2</span>] = [<span class="string">'猪肉绦虫'</span>, <span class="string">'吸血虫'</span>];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            data.multiArray[<span class="number">1</span>] = [<span class="string">'鱼'</span>, <span class="string">'两栖动物'</span>, <span class="string">'爬行动物'</span>];</span><br><span class="line">            data.multiArray[<span class="number">2</span>] = [<span class="string">'鲫鱼'</span>, <span class="string">'带鱼'</span>];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        data.multiIndex[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        data.multiIndex[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">switch</span> (data.multiIndex[<span class="number">0</span>]) &#123;</span><br><span class="line">          <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">switch</span> (data.multiIndex[<span class="number">1</span>]) &#123;</span><br><span class="line">              <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                data.multiArray[<span class="number">2</span>] = [<span class="string">'猪肉绦虫'</span>, <span class="string">'吸血虫'</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                data.multiArray[<span class="number">2</span>] = [<span class="string">'蛔虫'</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                data.multiArray[<span class="number">2</span>] = [<span class="string">'蚂蚁'</span>, <span class="string">'蚂蟥'</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                data.multiArray[<span class="number">2</span>] = [<span class="string">'河蚌'</span>, <span class="string">'蜗牛'</span>, <span class="string">'蛞蝓'</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                data.multiArray[<span class="number">2</span>] = [<span class="string">'昆虫'</span>, <span class="string">'甲壳动物'</span>, <span class="string">'蛛形动物'</span>, <span class="string">'多足动物'</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">switch</span> (data.multiIndex[<span class="number">1</span>]) &#123;</span><br><span class="line">              <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                data.multiArray[<span class="number">2</span>] = [<span class="string">'鲫鱼'</span>, <span class="string">'带鱼'</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                data.multiArray[<span class="number">2</span>] = [<span class="string">'青蛙'</span>, <span class="string">'娃娃鱼'</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                data.multiArray[<span class="number">2</span>] = [<span class="string">'蜥蜴'</span>, <span class="string">'龟'</span>, <span class="string">'壁虎'</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        data.multiIndex[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(data.multiIndex);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.setData(data);</span><br><span class="line">  &#125;,</span><br><span class="line">  bindDateChange: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'picker发送选择改变，携带值为'</span>, e.detail.value)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      date: e.detail.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  bindTimeChange: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'picker发送选择改变，携带值为'</span>, e.detail.value)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      time: e.detail.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  bindRegionChange: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'picker发送选择改变，携带值为'</span>, e.detail.value)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      region: e.detail.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>演示图片</strong>：</p>
<p><img src="/微信小程序学习笔记/picker.png" alt="picker"></p>
<h3 id="picker-view"><a href="#picker-view" class="headerlink" title="picker-view"></a>picker-view</h3><p>和picker类似</p>
<h3 id="radio"><a href="#radio" class="headerlink" title="radio"></a>radio</h3><p>单项选择器，用法同html</p>
<h3 id="slider"><a href="#slider" class="headerlink" title="slider"></a>slider</h3><p>滑动选择器</p>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><p>开关选择器</p>
<h3 id="textarea"><a href="#textarea" class="headerlink" title="textarea"></a>textarea</h3><p>多行输入框，和html一样</p>
<h2 id="操作组件"><a href="#操作组件" class="headerlink" title="操作组件"></a>操作组件</h2><p>通过方法调用来呈现组件（交互操作组件必须通过调用API的方式来调用）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  btnTodo() &#123;</span><br><span class="line">    <span class="comment">// 当点击按钮触发</span></span><br><span class="line">    <span class="comment">// console.log('111')</span></span><br><span class="line">    wx.showActionSheet(&#123;</span><br><span class="line">      <span class="comment">// 显示出来的项目列表</span></span><br><span class="line">      itemList: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>],</span><br><span class="line">      <span class="comment">// 成功回调</span></span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!res.cancel) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(res.tapIndex)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'primary'</span> <span class="attr">bindtap</span>=<span class="string">'btnTodo'</span>&gt;</span>你要点击我哦<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/微信小程序学习笔记/操作组件.png" alt="操作组件"></p>
<p>另外模态框和上面用法一致….</p>
<h2 id="轮播图组件"><a href="#轮播图组件" class="headerlink" title="轮播图组件"></a>轮播图组件</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">swiper</span> <span class="attr">indicator-dots</span>=<span class="string">"是否显示面板指示点"</span> <span class="attr">autoplay</span>=<span class="string">"是否自动切换"</span> <span class="attr">interval</span>=<span class="string">"自动切换时间间隔"</span> <span class="attr">duration</span>=<span class="string">"滑动动画时长"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">      	<span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"图片路径1"</span> <span class="attr">width</span>=<span class="string">"375"</span> <span class="attr">height</span>=<span class="string">"150"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">      	<span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"图片路径2"</span> <span class="attr">width</span>=<span class="string">"375"</span> <span class="attr">height</span>=<span class="string">"150"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>探索：实现无缝轮播怎么办？</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>组件的基本用法：<ol>
<li>组件的语法问题<ol>
<li>组件得使用是类似于HTML的方式，但是又有不同，组件使用的是严格的<code>XML</code>标准（例如结束标签问题要注意）</li>
</ol>
</li>
<li>组件的分类<ol>
<li>功能型组件（progress、checkbox、radio等具有具体功能的）</li>
<li>布局类型组件，用来完成页面结构</li>
<li>API类型组件，例如wx.showModal，通过调用API来使用</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="微信小程序页面函数"><a href="#微信小程序页面函数" class="headerlink" title="微信小程序页面函数"></a>微信小程序页面函数</h2><h3 id="生命周期函数"><a href="#生命周期函数" class="headerlink" title="生命周期函数"></a>生命周期函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  <span class="comment">/** 页面的初始数据 */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/** 生命周期函数--监听页面加载 */</span></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/** 生命周期函数--监听页面初次渲染完成 */</span></span><br><span class="line">  onReady: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/** 生命周期函数--监听页面显示 */</span></span><br><span class="line">  onShow: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/** 生命周期函数--监听页面隐藏 */</span></span><br><span class="line">  onHide: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/** 生命周期函数--监听页面卸载 */</span></span><br><span class="line">  onUnload: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="页面相关事件处理函数"><a href="#页面相关事件处理函数" class="headerlink" title="页面相关事件处理函数"></a>页面相关事件处理函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 页面相关事件处理函数--监听用户下拉动作 */</span></span><br><span class="line"> onPullDownRefresh: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="comment">/** 页面上拉触底事件的处理函数 */</span></span><br><span class="line"> onReachBottom: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="comment">/** 用户点击右上角分享 */</span></span><br><span class="line"> onShareAppMessage: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="WXS-脚本"><a href="#WXS-脚本" class="headerlink" title="WXS  脚本"></a>WXS  脚本</h2><blockquote>
<p>WXS（WeiXin Script）是小程序的一套脚本语言，功能类似<code>&lt;script&gt;</code>标签，用于在视图层定义函数(比较少用)</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">wxs</span> <span class="attr">module</span>=<span class="string">"foo"</span>&gt;</span></span><br><span class="line">var sum = function(a,b)&#123;</span><br><span class="line">  return a+b</span><br><span class="line">&#125;</span><br><span class="line">// 这里可以导出一个对象，这个对象可以直接在界面上使用 </span><br><span class="line">module.exports.sum = sum</span><br><span class="line"><span class="tag">&lt;/<span class="name">wxs</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;foo.sum&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    
    <div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script>
  <script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script>
  <link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css">

  <p><span>本文标题:</span>微信小程序学习笔记</p>
  <p><span>文章作者:</span>王工头</p>
  <p><span>发布时间:</span>2019年01月17日 - 20:38:33</p>
  <p><span>最后更新:</span>2019年01月25日 - 12:56:12</p>
  <p><span>原始链接:</span><a href="/微信小程序学习笔记/" title="微信小程序学习笔记">https://qqqww.com/微信小程序学习笔记/</a>
    <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://qqqww.com/微信小程序学习笔记/" aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    clipboard.on('success', $(function(){
      $(".fa-clipboard").click(function(){
        swal({   
          title: "",   
          text: '复制成功',   
          html: false,
          timer: 500,   
          showConfirmButton: false
        });
      });
    }));  
</script>

      
    </div>


    

    

    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢大佬们的阅读-------------</div>
    
</div>

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/微信小程序学习笔记/" rel="tag"><i class="fa fa-tag"></i> 微信小程序学习笔记</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/flex布局的语法和案例/" rel="next" title="flex布局的语法和案例">
                <i class="fa fa-chevron-left"></i> flex布局的语法和案例
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/记录一次hexo生成静态文件报错/" rel="prev" title="记录一次hexo生成静态文件报错">
                记录一次hexo生成静态文件报错 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_fav">收藏夹</a>
<a class="jiathis_button_copy">复制网址</a>
<a class="jiathis_button_email">邮件</a>
<a class="jiathis_button_weixin">微信</a>
<a class="jiathis_button_qzone">QQ空间</a>
<a class="jiathis_button_tqq">腾讯微博</a>
<a class="jiathis_button_douban">豆瓣</a>
<a class="jiathis_button_share">一键分享</a>

<a href="http://www.jiathis.com/share?uid=2140465" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank" rel="external nofollow noopener noreferrer">更多</a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript">
var jiathis_config={
  data_track_clickback:true,
  summary:"",
  shortUrl:false,
  hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=" charset="utf-8"></script>
<!-- JiaThis Button END -->
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80MTc2Mi8xODMwOA=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="王工头">
            
              <p class="site-author-name" itemprop="name">王工头</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">61</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">59</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/ForeManWang/" target="_blank" title="GitHub" rel="external nofollow noopener noreferrer">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="1281876368@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://qqqww.com/sitemap.xml" target="_blank" title="MyBlog">
                      
                        <i class="fa fa-fw fa-globe"></i>MyBlog</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://dev.tencent.com/u/wqpsmile/depot" target="_blank" title="Coding" rel="external nofollow noopener noreferrer">
                      
                        <i class="fa fa-fw fa-Coding"></i>Coding</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                推荐阅读
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://qqqww.com/hexo搭建个人博客详细教程/" target="_blank" rel="external nofollow">Hexo搭建个人博客</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#微信小程序"><span class="nav-number">1.</span> <span class="nav-text">微信小程序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#关于此学习的测试项目都暂时保存在https-github-com-ForeManWang-wxapp-study"><span class="nav-number">1.1.</span> <span class="nav-text">关于此学习的测试项目都暂时保存在https://github.com/ForeManWang/wxapp-study</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#微信小程序账号与工具"><span class="nav-number">1.2.</span> <span class="nav-text">微信小程序账号与工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#小程序开发者账号注册"><span class="nav-number">1.3.</span> <span class="nav-text">小程序开发者账号注册</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#微信开发者工具"><span class="nav-number">1.4.</span> <span class="nav-text">微信开发者工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#小程序在线Demo"><span class="nav-number">1.5.</span> <span class="nav-text">小程序在线Demo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#微信小程序文件结构"><span class="nav-number">1.6.</span> <span class="nav-text">微信小程序文件结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主体文件结构"><span class="nav-number">1.6.1.</span> <span class="nav-text">主体文件结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面文件结构"><span class="nav-number">1.6.2.</span> <span class="nav-text">页面文件结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#微信小程序全局配置"><span class="nav-number">1.7.</span> <span class="nav-text">微信小程序全局配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#app-json-配置项列表"><span class="nav-number">1.7.1.</span> <span class="nav-text">app.json 配置项列表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#pages"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">pages</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#window"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">window</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#tabBar"><span class="nav-number">1.7.1.3.</span> <span class="nav-text">tabBar</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#networkTimeout"><span class="nav-number">1.7.1.4.</span> <span class="nav-text">networkTimeout</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#debug"><span class="nav-number">1.7.1.5.</span> <span class="nav-text">debug</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#functionalPages"><span class="nav-number">1.7.1.6.</span> <span class="nav-text">functionalPages</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#subpackages"><span class="nav-number">1.7.1.7.</span> <span class="nav-text">subpackages</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#workers"><span class="nav-number">1.7.1.8.</span> <span class="nav-text">workers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#requiredBackgroundModes"><span class="nav-number">1.7.1.9.</span> <span class="nav-text">requiredBackgroundModes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#plugins"><span class="nav-number">1.7.1.10.</span> <span class="nav-text">plugins</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#preloadRule"><span class="nav-number">1.7.1.11.</span> <span class="nav-text">preloadRule</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#resizable"><span class="nav-number">1.7.1.12.</span> <span class="nav-text">resizable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#navigateToMiniProgramAppIdList"><span class="nav-number">1.7.1.13.</span> <span class="nav-text">navigateToMiniProgramAppIdList</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#usingComponents"><span class="nav-number">1.7.1.14.</span> <span class="nav-text">usingComponents</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#permission"><span class="nav-number">1.7.1.15.</span> <span class="nav-text">permission</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#微信小程序页面配置"><span class="nav-number">1.8.</span> <span class="nav-text">微信小程序页面配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#配置示例"><span class="nav-number">1.8.1.</span> <span class="nav-text">配置示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面配置项列表"><span class="nav-number">1.8.2.</span> <span class="nav-text">页面配置项列表</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#逻辑层App-Service"><span class="nav-number">1.9.</span> <span class="nav-text">逻辑层App Service</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#逻辑层的JavaScript"><span class="nav-number">1.9.1.</span> <span class="nav-text">逻辑层的JavaScript</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#视图层View"><span class="nav-number">1.10.</span> <span class="nav-text">视图层View</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#WXML"><span class="nav-number">1.10.1.</span> <span class="nav-text">WXML</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据绑定"><span class="nav-number">1.10.2.</span> <span class="nav-text">数据绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#简单数据绑定"><span class="nav-number">1.10.2.1.</span> <span class="nav-text">简单数据绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#列表渲染"><span class="nav-number">1.10.2.2.</span> <span class="nav-text">列表渲染</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#条件渲染"><span class="nav-number">1.10.2.3.</span> <span class="nav-text">条件渲染</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模板"><span class="nav-number">1.10.3.</span> <span class="nav-text">模板</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#定义模板"><span class="nav-number">1.10.3.1.</span> <span class="nav-text">定义模板</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用模板"><span class="nav-number">1.10.3.2.</span> <span class="nav-text">使用模板</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模板的作用域"><span class="nav-number">1.10.3.3.</span> <span class="nav-text">模板的作用域</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件"><span class="nav-number">1.10.4.</span> <span class="nav-text">事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#事件的使用方式"><span class="nav-number">1.10.4.1.</span> <span class="nav-text">事件的使用方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#事件分类"><span class="nav-number">1.10.4.2.</span> <span class="nav-text">事件分类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#WXML的冒泡事件列表："><span class="nav-number">1.10.4.2.1.</span> <span class="nav-text">WXML的冒泡事件列表：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#事件绑定和冒泡"><span class="nav-number">1.10.4.2.2.</span> <span class="nav-text">事件绑定和冒泡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#阻止事件冒泡"><span class="nav-number">1.10.4.2.3.</span> <span class="nav-text">阻止事件冒泡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#事件捕获"><span class="nav-number">1.10.4.2.4.</span> <span class="nav-text">事件捕获</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#事件对象"><span class="nav-number">1.10.4.3.</span> <span class="nav-text">事件对象</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#type"><span class="nav-number">1.10.4.3.1.</span> <span class="nav-text">type</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#timeStamp"><span class="nav-number">1.10.4.3.2.</span> <span class="nav-text">timeStamp</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#target"><span class="nav-number">1.10.4.3.3.</span> <span class="nav-text">target</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#currentTarget"><span class="nav-number">1.10.4.3.4.</span> <span class="nav-text">currentTarget</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#dataset"><span class="nav-number">1.10.4.3.5.</span> <span class="nav-text">dataset</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#touches"><span class="nav-number">1.10.4.3.6.</span> <span class="nav-text">touches</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Touch-对象"><span class="nav-number">1.10.4.3.7.</span> <span class="nav-text">Touch 对象</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CanvasTouch-对象"><span class="nav-number">1.10.4.3.8.</span> <span class="nav-text">CanvasTouch 对象</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#changedTouches"><span class="nav-number">1.10.4.3.9.</span> <span class="nav-text">changedTouches</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#detail"><span class="nav-number">1.10.4.3.10.</span> <span class="nav-text">detail</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引用"><span class="nav-number">1.10.5.</span> <span class="nav-text">引用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#import"><span class="nav-number">1.10.5.1.</span> <span class="nav-text">import</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#import-的作用域"><span class="nav-number">1.10.5.2.</span> <span class="nav-text">import 的作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#include"><span class="nav-number">1.10.5.3.</span> <span class="nav-text">include</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#单向数据流"><span class="nav-number">1.10.6.</span> <span class="nav-text">单向数据流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#双向数据绑定"><span class="nav-number">1.10.7.</span> <span class="nav-text">双向数据绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WXSS-样式"><span class="nav-number">1.10.8.</span> <span class="nav-text">WXSS 样式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#微信小程序组件-标签"><span class="nav-number">1.11.</span> <span class="nav-text">微信小程序组件(标签)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#常用布局标签"><span class="nav-number">1.11.1.</span> <span class="nav-text">常用布局标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flex布局"><span class="nav-number">1.11.2.</span> <span class="nav-text">flex布局</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#页面间跳转（navigator）"><span class="nav-number">1.12.</span> <span class="nav-text">页面间跳转（navigator）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#新建页面小技巧"><span class="nav-number">1.12.1.</span> <span class="nav-text">新建页面小技巧</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何做页面跳转"><span class="nav-number">1.12.2.</span> <span class="nav-text">如何做页面跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面间传值"><span class="nav-number">1.12.3.</span> <span class="nav-text">页面间传值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面导航模式"><span class="nav-number">1.12.4.</span> <span class="nav-text">页面导航模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#导航元素点击高亮"><span class="nav-number">1.12.5.</span> <span class="nav-text">导航元素点击高亮</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面导航API"><span class="nav-number">1.12.6.</span> <span class="nav-text">页面导航API</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#基础内容"><span class="nav-number">1.13.</span> <span class="nav-text">基础内容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#icon"><span class="nav-number">1.13.1.</span> <span class="nav-text">icon</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#属性type"><span class="nav-number">1.13.1.1.</span> <span class="nav-text">属性type</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#属性size"><span class="nav-number">1.13.1.2.</span> <span class="nav-text">属性size</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#属性color"><span class="nav-number">1.13.1.3.</span> <span class="nav-text">属性color</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rich-text"><span class="nav-number">1.13.2.</span> <span class="nav-text">rich-text</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#progress"><span class="nav-number">1.13.3.</span> <span class="nav-text">progress</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用表单标签"><span class="nav-number">1.14.</span> <span class="nav-text">常用表单标签</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#button"><span class="nav-number">1.14.1.</span> <span class="nav-text">button</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#type有效值"><span class="nav-number">1.14.1.1.</span> <span class="nav-text">type有效值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#size有效值"><span class="nav-number">1.14.1.2.</span> <span class="nav-text">size有效值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#form-type-有效值"><span class="nav-number">1.14.1.3.</span> <span class="nav-text">form-type 有效值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#hover-class"><span class="nav-number">1.14.1.4.</span> <span class="nav-text">hover-class</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#checkbox"><span class="nav-number">1.14.1.5.</span> <span class="nav-text">checkbox</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#checkbox-group"><span class="nav-number">1.14.1.6.</span> <span class="nav-text">checkbox-group</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#checkbox-1"><span class="nav-number">1.14.1.7.</span> <span class="nav-text">checkbox</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form"><span class="nav-number">1.14.2.</span> <span class="nav-text">form</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#input"><span class="nav-number">1.14.3.</span> <span class="nav-text">input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#label"><span class="nav-number">1.14.4.</span> <span class="nav-text">label</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#picker"><span class="nav-number">1.14.5.</span> <span class="nav-text">picker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#picker-view"><span class="nav-number">1.14.6.</span> <span class="nav-text">picker-view</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#radio"><span class="nav-number">1.14.7.</span> <span class="nav-text">radio</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#slider"><span class="nav-number">1.14.8.</span> <span class="nav-text">slider</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#switch"><span class="nav-number">1.14.9.</span> <span class="nav-text">switch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#textarea"><span class="nav-number">1.14.10.</span> <span class="nav-text">textarea</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#操作组件"><span class="nav-number">1.15.</span> <span class="nav-text">操作组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#轮播图组件"><span class="nav-number">1.16.</span> <span class="nav-text">轮播图组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">1.17.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#微信小程序页面函数"><span class="nav-number">1.18.</span> <span class="nav-text">微信小程序页面函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#生命周期函数"><span class="nav-number">1.18.1.</span> <span class="nav-text">生命周期函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面相关事件处理函数"><span class="nav-number">1.18.2.</span> <span class="nav-text">页面相关事件处理函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WXS-脚本"><span class="nav-number">1.19.</span> <span class="nav-text">WXS  脚本</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      
      <div id="music163player">
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=490106148&auto=1&height=66"></iframe> 
      </div>
      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">王工头</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">90.2k</span>
  
</div>


  <!--<div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io" rel="external nofollow">Hexo</a> 强力驱动</div>-->



  <!--<span class="post-meta-divider">|</span>-->



  <!--<div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">NexT.Pisces</a> v5.1.4</div>-->

<!--网站访问人数-->
<div class="powered-by">
<i class="fa fa-user"></i><span id="busuanzi_container_site_uv">
  本站访客数 <span id="busuanzi_value_site_uv"></span> 
</span>
<!--网站访问次数-->
<span class="post-meta-divider">|</span>
<span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i>
    <span id="busuanzi_value_site_pv"></span>
</span>
</div>


<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共90.2k字</span>
</div>

        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>
  
<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":100,"height":200},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>

<!-- 背景动态 -->

<script type="text/javascript" color="0,0,205" opacity="0.9" zindex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

